{"nbformat":4,"nbformat_minor":0,"metadata":{"kernelspec":{"display_name":"Python 3","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.7.2"},"colab":{"provenance":[{"file_id":"1BztsE3lpr33tjPKzTGswuDMUGB4KQ5fY","timestamp":1709065874407}],"collapsed_sections":["BIWqBuEa6j0b","uS9FwWNd5a3S","MQk_rolFwT_h","ai48-5vv6j1d","Y60z4t6W6j16","0sUSxk866j1_","J5xWOORI6j2F","tHZqgDTo6j0i","ySQQp0oQt1Ep","LL6_Rjg3InL8"]},"widgets":{"application/vnd.jupyter.widget-state+json":{"7c1afcb7f64d46ce9115913e1b01d580":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_23c8c8c270fb49e4bbbdadff9da85b23","IPY_MODEL_6345df2a99bd49df9b8b80121abb7a8c","IPY_MODEL_aab19d1dd6d84b05b60d6a61c0b1307b"],"layout":"IPY_MODEL_4bc7ff908c2d4e5380426bbc6c314034"}},"23c8c8c270fb49e4bbbdadff9da85b23":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_75502f481cdf49ca8798c030030ea7a8","placeholder":"​","style":"IPY_MODEL_7557ab303c1044b8bb8b5462d5267db0","value":"  4%"}},"6345df2a99bd49df9b8b80121abb7a8c":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"danger","description":"","description_tooltip":null,"layout":"IPY_MODEL_7f7d3975fce94fbeb280dd37a3765945","max":3760,"min":0,"orientation":"horizontal","style":"IPY_MODEL_ba6f7c1551db4566ad53718e1ca19cc4","value":151}},"aab19d1dd6d84b05b60d6a61c0b1307b":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_d74f781e7f6d4f83bbc1fc6031387778","placeholder":"​","style":"IPY_MODEL_4beecf83e7b5456282ca8c4576bd013b","value":" 151/3760 [01:19&lt;32:29,  1.85it/s]"}},"4bc7ff908c2d4e5380426bbc6c314034":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"75502f481cdf49ca8798c030030ea7a8":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"7557ab303c1044b8bb8b5462d5267db0":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"7f7d3975fce94fbeb280dd37a3765945":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"ba6f7c1551db4566ad53718e1ca19cc4":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"d74f781e7f6d4f83bbc1fc6031387778":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"4beecf83e7b5456282ca8c4576bd013b":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"7a155256990d46168fa285de32428650":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_9fac88b1800f48f7a8dd624389592fa7","IPY_MODEL_f39c72ebd3f940ecb003f8a1c5cf295c","IPY_MODEL_dfd3739b0b824fd7ac7ec26361dad579"],"layout":"IPY_MODEL_2981f4529f8f47c9b72dbc0073b89939"}},"9fac88b1800f48f7a8dd624389592fa7":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_3e630fbd2ed64d7893a2f8923e4020d9","placeholder":"​","style":"IPY_MODEL_ca204acdcd0645e5a34f2e1c06d31f83","value":"100%"}},"f39c72ebd3f940ecb003f8a1c5cf295c":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_d2b5b338dc3a4644abfabedde74449ec","max":6,"min":0,"orientation":"horizontal","style":"IPY_MODEL_da6c1166a055471fa87f8397eac1cc9f","value":6}},"dfd3739b0b824fd7ac7ec26361dad579":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_d588e00388584bbaa43de864e1033771","placeholder":"​","style":"IPY_MODEL_332c498bd55d461395db988a51a52d92","value":" 6/6 [00:00&lt;00:00, 344.13it/s]"}},"2981f4529f8f47c9b72dbc0073b89939":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"3e630fbd2ed64d7893a2f8923e4020d9":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"ca204acdcd0645e5a34f2e1c06d31f83":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"d2b5b338dc3a4644abfabedde74449ec":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"da6c1166a055471fa87f8397eac1cc9f":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"d588e00388584bbaa43de864e1033771":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"332c498bd55d461395db988a51a52d92":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"76d895debba345c49620ca44e15a3bee":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_2daf7176d6684f95ac5396f642d3c6bb","IPY_MODEL_5330b1cc3be3498ea8bbebb73b5eef31","IPY_MODEL_ceb231cbf5fd48308f1e88b25ae07f3d"],"layout":"IPY_MODEL_debd3118cdc44d4b91b9a636a72f09d8"}},"2daf7176d6684f95ac5396f642d3c6bb":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_c6904b3edd7b4e90b1f1119415f833a4","placeholder":"​","style":"IPY_MODEL_e1d9e6c8a18e4c89b2e58fcc80b1573a","value":"100%"}},"5330b1cc3be3498ea8bbebb73b5eef31":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_db53b90291a6459ba3b8a01e3fc78091","max":3760,"min":0,"orientation":"horizontal","style":"IPY_MODEL_34a9e29f602e4633981205abf21a2fd9","value":3760}},"ceb231cbf5fd48308f1e88b25ae07f3d":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_7bf2fef17c7c46f786c056b9bfa1fec3","placeholder":"​","style":"IPY_MODEL_073c6ec710134937a53f9c511f864ac6","value":" 3760/3760 [00:00&lt;00:00, 6917.23it/s]"}},"debd3118cdc44d4b91b9a636a72f09d8":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"c6904b3edd7b4e90b1f1119415f833a4":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"e1d9e6c8a18e4c89b2e58fcc80b1573a":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"db53b90291a6459ba3b8a01e3fc78091":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"34a9e29f602e4633981205abf21a2fd9":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"7bf2fef17c7c46f786c056b9bfa1fec3":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"073c6ec710134937a53f9c511f864ac6":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"6310998320c84c0dbbbc4e4f05892199":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_4161255fb74e41fb94773b08d6848c2d","IPY_MODEL_9c01f94fb6674baa8857c476d955d9c2","IPY_MODEL_ca9f41e683804352917fc199671b404b"],"layout":"IPY_MODEL_f6f26a0c74174ef9b320ef3dbcbdaf5c"}},"4161255fb74e41fb94773b08d6848c2d":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_bdde07a4b61a464c8c1bd47d141c5df6","placeholder":"​","style":"IPY_MODEL_48a0bf6c54d04eeaa82b8c781e535bed","value":"  0%"}},"9c01f94fb6674baa8857c476d955d9c2":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"danger","description":"","description_tooltip":null,"layout":"IPY_MODEL_a910876bc9da47bbb2ee64587133efde","max":6,"min":0,"orientation":"horizontal","style":"IPY_MODEL_d6fdd2e8ba4f45fb85f6dd4389b18b4e","value":0}},"ca9f41e683804352917fc199671b404b":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_b1723996f76e4d338e269163c4f0c864","placeholder":"​","style":"IPY_MODEL_9313229dba0b4001a141341f1f8606f2","value":" 0/6 [00:00&lt;?, ?it/s]"}},"f6f26a0c74174ef9b320ef3dbcbdaf5c":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"bdde07a4b61a464c8c1bd47d141c5df6":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"48a0bf6c54d04eeaa82b8c781e535bed":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"a910876bc9da47bbb2ee64587133efde":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"d6fdd2e8ba4f45fb85f6dd4389b18b4e":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"b1723996f76e4d338e269163c4f0c864":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"9313229dba0b4001a141341f1f8606f2":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}}}}},"cells":[{"cell_type":"markdown","metadata":{"id":"Ot3c4fjZwC4T"},"source":["<img src=\"https://s8.hostingkartinok.com/uploads/images/2018/08/308b49fcfbc619d629fe4604bceb67ac.jpg\" width=500, height=450>\n","<h3 style=\"text-align: center;\"><b>Физтех-Школа Прикладной математики и информатики (ФПМИ) МФТИ</b></h3>"]},{"cell_type":"markdown","metadata":{"id":"P2JdzEXmwRU5"},"source":["---"]},{"cell_type":"markdown","metadata":{"id":"Fc8iHXIVwDwj"},"source":["***Some parts of the notebook are almost the copy of [ mmta-team course](https://github.com/mmta-team/mmta_fall_2020). Special thanks to mmta-team for making them publicly available. [Original notebook](https://github.com/mmta-team/mmta_fall_2020/blob/master/tasks/01_word_embeddings/task_word_embeddings.ipynb).***"]},{"cell_type":"markdown","metadata":{"id":"7D0wm5jt6j0U"},"source":["<b> Прочитайте семинар, пожалуйста, для успешного выполнения домашнего задания. В конце ноутка напишите свой вывод. Работа без вывода оценивается ниже."]},{"cell_type":"markdown","metadata":{"id":"BIWqBuEa6j0b"},"source":["## Задача поиска схожих по смыслу предложений"]},{"cell_type":"markdown","metadata":{"id":"NUkwMPLA6j0g"},"source":["Мы будем ранжировать вопросы [StackOverflow](https://stackoverflow.com) на основе семантического векторного представления"]},{"cell_type":"markdown","metadata":{"id":"dNRXIEfu5a3Q"},"source":["До этого в курсе не было речи про задачу ранжировния, поэтому введем математическую формулировку"]},{"cell_type":"markdown","metadata":{"id":"uS9FwWNd5a3S"},"source":["## Задача ранжирования(Learning to Rank)"]},{"cell_type":"markdown","metadata":{"id":"wdwY9-f75a3T"},"source":["* $X$ - множество объектов\n","* $X^l = \\{x_1, x_2, ..., x_l\\}$ - обучающая выборка\n","<br>На обучающей выборке задан порядок между некоторыми элементами, то есть нам известно, что некий объект выборки более релевантный для нас, чем другой:\n","* $i \\prec j$ - порядок пары индексов объектов на выборке $X^l$ c индексами $i$ и $j$\n","### Задача:\n","построить ранжирующую функцию $a$ : $X \\rightarrow R$ такую, что\n","$$i \\prec j \\Rightarrow a(x_i) < a(x_j)$$"]},{"cell_type":"markdown","metadata":{"id":"WG2IGBsh5a3U"},"source":["<img src=\"https://d25skit2l41vkl.cloudfront.net/wp-content/uploads/2016/12/Featured-Image.jpg\" width=500, height=450>"]},{"cell_type":"markdown","metadata":{"id":"MQk_rolFwT_h"},"source":["### Embeddings"]},{"cell_type":"markdown","metadata":{"id":"xUe1PGXn6j0l"},"source":["Будем использовать предобученные векторные представления слов на постах Stack Overflow.<br>\n","[A word2vec model trained on Stack Overflow posts](https://github.com/vefstathiou/SO_word2vec)"]},{"cell_type":"code","metadata":{"id":"mYkI54Y-rk7a","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647498660,"user_tz":-180,"elapsed":63921,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"a2a5862d-f479-4dc1-bdde-dd8054902251"},"source":["!wget https://zenodo.org/record/1199620/files/SO_vectors_200.bin?download=1"],"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["--2024-03-05 14:03:54--  https://zenodo.org/record/1199620/files/SO_vectors_200.bin?download=1\n","Resolving zenodo.org (zenodo.org)... 188.184.103.159, 188.185.79.172, 188.184.98.238, ...\n","Connecting to zenodo.org (zenodo.org)|188.184.103.159|:443... connected.\n","HTTP request sent, awaiting response... 301 MOVED PERMANENTLY\n","Location: /records/1199620/files/SO_vectors_200.bin [following]\n","--2024-03-05 14:03:54--  https://zenodo.org/records/1199620/files/SO_vectors_200.bin\n","Reusing existing connection to zenodo.org:443.\n","HTTP request sent, awaiting response... 200 OK\n","Length: 1453905423 (1.4G) [application/octet-stream]\n","Saving to: ‘SO_vectors_200.bin?download=1’\n","\n","SO_vectors_200.bin? 100%[===================>]   1.35G  22.8MB/s    in 63s     \n","\n","2024-03-05 14:04:57 (22.1 MB/s) - ‘SO_vectors_200.bin?download=1’ saved [1453905423/1453905423]\n","\n"]}]},{"cell_type":"code","metadata":{"id":"O8YJTOYv6j0s"},"source":["from gensim.models.keyedvectors import KeyedVectors\n","wv_embeddings = KeyedVectors.load_word2vec_format(\"SO_vectors_200.bin?download=1\", binary=True)"],"execution_count":null,"outputs":[]},{"cell_type":"markdown","metadata":{"id":"aIcT_g-C6j1E"},"source":["#### Как пользоваться этими векторами?"]},{"cell_type":"markdown","metadata":{"id":"DWO5SPDY6j1G"},"source":["Посмотрим на примере одного слова, что из себя представляет embedding"]},{"cell_type":"code","metadata":{"scrolled":true,"id":"KeSBlQfk6j1J","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647517327,"user_tz":-180,"elapsed":6,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"4a938d43-ba09-4aa2-8f3f-4e4c9e1a57f8"},"source":["word = 'dog'\n","if word in wv_embeddings:\n","    print(wv_embeddings[word].dtype, wv_embeddings[word].shape)"],"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["float32 (200,)\n"]}]},{"cell_type":"code","metadata":{"id":"T4Eq-D1qxpMJ","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647517327,"user_tz":-180,"elapsed":4,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"0ef3fbbf-e64a-4ad6-b55e-aedcd4f090a6"},"source":["print(f\"Num of words: {len(wv_embeddings.index_to_key)}\")"],"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Num of words: 1787145\n"]}]},{"cell_type":"markdown","metadata":{"id":"ZT6NTCys6j1Q"},"source":["Найдем наиболее близкие слова к слову `dog`:"]},{"cell_type":"markdown","metadata":{"id":"n08z2PjMwC5o"},"source":["#### Вопрос 1:\n","* Входит ли слов `cat` топ-5 близких слов к слову `dog`? Какое место?"]},{"cell_type":"code","metadata":{"scrolled":true,"id":"nYwVz0xG6j1U","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647518216,"user_tz":-180,"elapsed":891,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"8535479c-68eb-4929-e0b7-3cf84285a496"},"source":["# method most_simmilar\n","for item in wv_embeddings.most_similar('dog', topn=5):\n","  print(item)"],"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["('animal', 0.8564180135726929)\n","('dogs', 0.7880866527557373)\n","('mammal', 0.7623804211616516)\n","('cats', 0.7621253728866577)\n","('animals', 0.760793924331665)\n"]}]},{"cell_type":"markdown","metadata":{"id":"ai48-5vv6j1d"},"source":["### Векторные представления текста\n","\n","Перейдем от векторных представлений отдельных слов к векторным представлениям вопросов, как к **среднему** векторов всех слов в вопросе. Если для какого-то слова нет предобученного вектора, то его нужно пропустить. Если вопрос не содержит ни одного известного слова, то нужно вернуть нулевой вектор."]},{"cell_type":"code","metadata":{"id":"EhNuxBJd6j1f","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647519357,"user_tz":-180,"elapsed":1145,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"9992bf23-8c33-4f28-f6d2-ccf9a9da9496"},"source":["import numpy as np\n","import re\n","# you can use your tokenizer\n","from nltk.tokenize import WordPunctTokenizer\n","class MyTokenizer:\n","    def __init__(self):\n","        pass\n","    def tokenize(self, text):\n","        return re.findall('\\w+', text)\n","tokenizer = MyTokenizer()\n","tokenizer.tokenize('I love neural networks')"],"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["['I', 'love', 'neural', 'networks']"]},"metadata":{},"execution_count":6}]},{"cell_type":"code","metadata":{"id":"YHcvu6186j1m"},"source":["def question_to_vec(question, embeddings, tokenizer, dim=200):\n","    \"\"\"\n","        question: строка\n","        embeddings: наше векторное представление\n","        dim: размер любого вектора в нашем представлении\n","\n","        return: векторное представление для вопроса\n","    \"\"\"\n","    tokens = tokenizer.tokenize(question)\n","    return np.mean([embeddings[token.lower()] for token in tokens if token.lower() in embeddings], axis=0)\n"],"execution_count":null,"outputs":[]},{"cell_type":"markdown","metadata":{"id":"u5Q_4j7r6j1u"},"source":["Теперь у нас есть метод для создания векторного представления любого предложения."]},{"cell_type":"markdown","metadata":{"id":"EsJSNkhm6j1y"},"source":["#### Вопрос 2:\n","* Какая третья(с индексом 2) компонента вектора предложения `I love neural networks` (округлите до 2 знаков после запятой)?"]},{"cell_type":"code","metadata":{"scrolled":true,"id":"a62r11cT6j10","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647519727,"user_tz":-180,"elapsed":3,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"84be423e-4d39-44d9-c095-3f110aa6b90a"},"source":["sentence = 'I love neural networks'\n","emb_question = question_to_vec(sentence, wv_embeddings, tokenizer)\n","print(round(emb_question[2],2))\n","print(emb_question)"],"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["-1.29\n","[-1.0142275  -1.6891261  -1.2854122  -1.3710302   0.15916634  0.06706961\n","  1.1188413  -0.07051762  0.5386369  -0.37139115  0.28913018  1.03125\n"," -2.865466   -1.3192873   2.2098296   1.1678672   1.0841951   1.8467226\n"," -0.98733807  0.8720946  -0.17219625  0.73839015 -0.7827826  -0.8827869\n"," -0.6152611  -0.15872358 -0.6170798   0.36668167  2.0137532   0.2627472\n"," -1.4950123  -1.386715   -1.2049937  -1.016617    2.7621174   1.7255713\n"," -0.19038178 -0.5899447  -0.1141155  -1.8890352  -1.7883505  -0.20420384\n"," -0.7062034   2.489034   -0.15452717  1.1255013   0.2610835   1.3153247\n"," -0.57667524 -0.3327141   1.6764902   0.91229993 -0.69880134  2.3752553\n"," -1.7634224   3.1378052   1.2243204  -1.0554415   0.7897571   0.04404024\n","  1.1623045  -0.4478023  -0.9149816   0.01501505 -0.85523087 -1.0183454\n"," -0.7162116   1.0727204   0.8881876  -0.29789424  1.4994873  -0.9384045\n"," -1.6828092   1.0525229   0.77871495 -3.34081     0.15682733  0.7449282\n"," -1.4001557   0.26698634 -0.73809963  0.37732854 -1.186255   -1.5580353\n"," -1.6205387   0.3077639  -0.6114703   2.3046587  -1.5368671   1.1242722\n","  1.1441461  -1.1531478  -0.5860432  -0.51876646  0.0847506   0.55700606\n","  0.23870413  1.9462968   0.53030854  2.6519432  -0.44217658 -1.3738413\n"," -2.3082082  -1.7291006   0.09150317  0.5256326  -1.2948507   0.47028258\n"," -0.27833918  1.7435821   1.2399105  -0.5580708   1.1559254   0.41553274\n","  1.609121    1.7537718  -1.77554     0.44009423 -1.2379423   0.10831648\n"," -0.6030591  -2.0164118  -0.741288    1.3980994  -0.16379206 -0.68049955\n"," -0.5787128  -0.39811432  0.01662459 -0.02013254 -1.4819161  -1.5942149\n","  1.7215437   1.3974282   1.8339332  -1.6149954   1.6407114   0.01269384\n","  0.8794584   0.8255847  -1.4109812  -0.6173281  -0.35946855  0.6510838\n"," -1.4075956   1.1300169  -0.93034726 -2.0259316   0.76860523  1.2960612\n"," -0.889519    1.3354112   0.99171686  0.9166878   1.4183179   1.3392485\n"," -2.2770903   2.0534172  -0.06724194 -2.3479369  -1.8847011  -0.02379521\n"," -0.26363063  1.0747885  -0.3491387  -0.7492485   0.6601408   0.02122569\n","  0.35414076  0.21582615  0.5345003   0.8234115   0.03441159  1.2792889\n","  0.57790637 -1.0084995  -1.4206891   1.8025084   0.8448728   0.35306382\n"," -0.61330116 -0.4524261  -0.4341513  -0.1759737  -0.7880316   0.02072136\n","  0.683048   -0.3041604   1.2950336  -0.92554665 -1.357943    0.16884269\n"," -1.2752739   0.02057016 -1.4632632  -0.57811093  0.9936001   1.8199921\n"," -1.6206802   0.8086469 ]\n"]}]},{"cell_type":"markdown","metadata":{"id":"Y60z4t6W6j16"},"source":["### Оценка близости текстов\n","\n","Представим, что мы используем идеальные векторные представления слов. Тогда косинусное расстояние между дублирующими предложениями должно быть меньше, чем между случайно взятыми предложениями.\n","\n","Сгенерируем для каждого из $N$ вопросов $R$ случайных отрицательных примеров и примешаем к ним также настоящие дубликаты. Для каждого вопроса будем ранжировать с помощью нашей модели $R + 1$ примеров и смотреть на позицию дубликата. Мы хотим, чтобы дубликат был первым в ранжированном списке.\n","\n","#### Hits@K\n","Первой простой метрикой будет количество корректных попаданий для какого-то $K$:\n","$$ \\text{Hits@K} = \\frac{1}{N}\\sum_{i=1}^N \\, [rank\\_q_i^{'} \\le K],$$\n","* $\\begin{equation*}\n","[x < 0 ] \\equiv\n"," \\begin{cases}\n","   1, &x < 0\\\\\n","   0, &x \\geq 0\n"," \\end{cases}\n","\\end{equation*}$ - индикаторная функция\n","* $q_i$ - $i$-ый вопрос\n","* $q_i^{'}$ - его дубликат\n","* $rank\\_q_i^{'}$ - позиция дубликата в ранжированном списке ближайших предложений для вопроса $q_i$.\n","\n","#### DCG@K\n","Второй метрикой будет упрощенная DCG метрика, учитывающая порядок элементов в списке путем домножения релевантности элемента на вес равный обратному логарифму номера позиции::\n","$$ \\text{DCG@K} = \\frac{1}{N} \\sum_{i=1}^N\\frac{1}{\\log_2(1+rank\\_q_i^{'})}\\cdot[rank\\_q_i^{'} \\le K],$$\n","С такой метрикой модель штрафуется за большой ранк корректного ответа"]},{"cell_type":"markdown","metadata":{"id":"eHCnH-jw6j18"},"source":["#### Вопрос 3:\n","* Максимум `Hits@47 - DCG@1`?"]},{"cell_type":"markdown","metadata":{"id":"_tFemBkP6j1-"},"source":["<img src='https://hsto.org/files/1c5/edf/dee/1c5edfdeebce4b71a86bdf986d9f88f2.jpg' width=400, height=200>"]},{"cell_type":"markdown","metadata":{"id":"0sUSxk866j1_"},"source":["#### Пример оценок\n","\n","Вычислим описанные выше метрики для игрушечного примера.\n","Пусть\n","* $N = 1$, $R = 3$\n","* <font color='green'>\"Что такое python?\"</font> - вопрос $q_1$\n","* <font color='red'>\"Что такое язык python?\"</font> - его дубликат $q_i^{'}$\n","\n","Пусть модель выдала следующий ранжированный список кандидатов:\n","\n","1. \"Как изучить с++?\"\n","2. <font color='red'>\"Что такое язык python?\"</font>\n","3. \"Хочу учить Java\"\n","4. \"Не понимаю Tensorflow\"\n","\n","$\\Rightarrow rank\\_q_i^{'} = 2$\n","\n","Вычислим метрику *Hits@K* для *K = 1, 4*:\n","\n","- [K = 1] $\\text{Hits@1} =  [rank\\_q_i^{'} \\le 1)] = 0$\n","- [K = 4] $\\text{Hits@4} =  [rank\\_q_i^{'} \\le 4] = 1$\n","\n","Вычислим метрику *DCG@K* для *K = 1, 4*:\n","- [K = 1] $\\text{DCG@1} = \\frac{1}{\\log_2(1+2)}\\cdot[2 \\le 1] = 0$\n","- [K = 4] $\\text{DCG@4} = \\frac{1}{\\log_2(1+2)}\\cdot[2 \\le 4] = \\frac{1}{\\log_2{3}}$"]},{"cell_type":"markdown","metadata":{"id":"B4L6HJJC6j2B"},"source":["#### Вопрос 4:\n","* Вычислите `DCG@10`, если $rank\\_q_i^{'} = 9$(округлите до одного знака после запятой)"]},{"cell_type":"markdown","metadata":{"id":"J5xWOORI6j2F"},"source":["### HITS\\_COUNT и DCG\\_SCORE"]},{"cell_type":"markdown","metadata":{"id":"I1q9WQOx6j2H"},"source":["Каждая функция имеет два аргумента: $dup\\_ranks$ и $k$. $dup\\_ranks$ является списком, который содержит рейтинги дубликатов(их позиции в ранжированном списке). Например, $dup\\_ranks = [2]$ для примера, описанного выше."]},{"cell_type":"code","metadata":{"id":"F5VwySUB6j2J"},"source":["def hits_count(dup_ranks, k):\n","    \"\"\"\n","        dup_ranks: list индексов дубликатов\n","        result: вернуть  Hits@k\n","    \"\"\"\n","    hits_value = 0\n","    for pos in dup_ranks:\n","      if k>= pos: hits_value+=1\n","\n","    return hits_value"],"execution_count":null,"outputs":[]},{"cell_type":"code","metadata":{"id":"82hQaxCH6j2R"},"source":["from math import log2\n","def dcg_score(dup_ranks, k):\n","    \"\"\"\n","        dup_ranks: list индексов дубликатов\n","        result: вернуть DCG@k\n","    \"\"\"\n","    dcg_value = 0\n","    for pos in dup_ranks:\n","      if k>= pos:\n","        dcg_value+= 1/log2(pos+1)\n","    return dcg_value"],"execution_count":null,"outputs":[]},{"cell_type":"markdown","metadata":{"id":"PcwHeXN26j2Y"},"source":["Протестируем функции. Пусть $N = 1$, то есть один эксперимент. Будем искать копию вопроса и оценивать метрики."]},{"cell_type":"code","metadata":{"id":"fjISmOEW6j2h"},"source":["import pandas as pd"],"execution_count":null,"outputs":[]},{"cell_type":"code","metadata":{"id":"gLa_Wqfh6j2m","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647520164,"user_tz":-180,"elapsed":221,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"05c7ff4e-899e-407b-b9a2-e6fd551aacd9"},"source":["copy_answers = [\"How does the catch keyword determine the type of exception that was thrown\",]\n","\n","# наги кандидаты\n","candidates_ranking = [[\"How Can I Make These Links Rotate in PHP\",\n","                       \"How does the catch keyword determine the type of exception that was thrown\",\n","                       \"NSLog array description not memory address\",\n","                       \"PECL_HTTP not recognised php ubuntu\"],]\n","# dup_ranks — позиции наших копий, так как эксперимент один, то этот массив длины 1\n","dup_ranks = [2]\n","\n","# вычисляем метрику для разных k\n","print('Ваш ответ HIT:', [hits_count(dup_ranks, k) for k in range(1, 5)])\n","print('Ваш ответ DCG:', [round(dcg_score(dup_ranks, k), 5) for k in range(1, 5)])"],"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Ваш ответ HIT: [0, 1, 1, 1]\n","Ваш ответ DCG: [0, 0.63093, 0.63093, 0.63093]\n"]}]},{"cell_type":"markdown","metadata":{"id":"MoHC3YoQ6j2t"},"source":["У вас должно получиться"]},{"cell_type":"code","metadata":{"scrolled":true,"id":"B0NFWq4f6j2u","colab":{"base_uri":"https://localhost:8080/","height":112},"executionInfo":{"status":"ok","timestamp":1709647520164,"user_tz":-180,"elapsed":6,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"5cc4fe87-0c99-4891-9c93-ae029072c2cc"},"source":["# correct_answers - метрика для разных k\n","correct_answers = pd.DataFrame([[0, 1, 1, 1], [0, 1 / (np.log2(3)), 1 / (np.log2(3)), 1 / (np.log2(3))]],\n","                               index=['HITS', 'DCG'], columns=range(1,5))\n","correct_answers"],"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["      1        2        3        4\n","HITS  0  1.00000  1.00000  1.00000\n","DCG   0  0.63093  0.63093  0.63093"],"text/html":["\n","  <div id=\"df-3dcf5879-5a0c-4e79-bfa9-e2d16d82f4ec\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>1</th>\n","      <th>2</th>\n","      <th>3</th>\n","      <th>4</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>HITS</th>\n","      <td>0</td>\n","      <td>1.00000</td>\n","      <td>1.00000</td>\n","      <td>1.00000</td>\n","    </tr>\n","    <tr>\n","      <th>DCG</th>\n","      <td>0</td>\n","      <td>0.63093</td>\n","      <td>0.63093</td>\n","      <td>0.63093</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3dcf5879-5a0c-4e79-bfa9-e2d16d82f4ec')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-3dcf5879-5a0c-4e79-bfa9-e2d16d82f4ec button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-3dcf5879-5a0c-4e79-bfa9-e2d16d82f4ec');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-b596b4ee-69b7-4ced-be8a-1c5f24080da6\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-b596b4ee-69b7-4ced-be8a-1c5f24080da6')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-b596b4ee-69b7-4ced-be8a-1c5f24080da6 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"correct_answers","summary":"{\n  \"name\": \"correct_answers\",\n  \"rows\": 2,\n  \"fields\": [\n    {\n      \"column\": 1,\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0,\n        \"min\": 0,\n        \"max\": 0,\n        \"num_unique_values\": 1,\n        \"samples\": [\n          0\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": 2,\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0.26097207398381256,\n        \"min\": 0.6309297535714575,\n        \"max\": 1.0,\n        \"num_unique_values\": 2,\n        \"samples\": [\n          0.6309297535714575\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": 3,\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0.26097207398381256,\n        \"min\": 0.6309297535714575,\n        \"max\": 1.0,\n        \"num_unique_values\": 2,\n        \"samples\": [\n          0.6309297535714575\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": 4,\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 0.26097207398381256,\n        \"min\": 0.6309297535714575,\n        \"max\": 1.0,\n        \"num_unique_values\": 2,\n        \"samples\": [\n          0.6309297535714575\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":13}]},{"cell_type":"markdown","metadata":{"id":"tHZqgDTo6j0i"},"source":["### Данные\n","[arxiv link](https://drive.google.com/file/d/1QqT4D0EoqJTy7v9VrNCYD-m964XZFR7_/edit)\n","\n","`train.tsv` - выборка для обучения.<br> В каждой строке через табуляцию записаны: **<вопрос>, <похожий вопрос>**\n","\n","`validation.tsv` - тестовая выборка.<br> В каждой строке через табуляцию записаны: **<вопрос>, <похожий вопрос>, <отрицательный пример 1>, <отрицательный пример 2>, ...**"]},{"cell_type":"code","source":["from google.colab import drive\n","drive.mount('/content/gdrive/')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"qM2a-vbyLnkN","executionInfo":{"status":"ok","timestamp":1709647540671,"user_tz":-180,"elapsed":20512,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"3ab25d15-c367-41aa-e3aa-43cb93416287"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/gdrive/\n"]}]},{"cell_type":"code","source":["!unzip -q /content/gdrive/MyDrive/stackoverflow_similar_questions.zip"],"metadata":{"id":"E9Je6kQyLox1"},"execution_count":null,"outputs":[]},{"cell_type":"code","metadata":{"id":"jKVK2lDGvrIe","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647547444,"user_tz":-180,"elapsed":15,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"e11d7cca-5ca8-489d-c086-10a13ac132a6"},"source":["!unzip stackoverflow_similar_questions.zip"],"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["unzip:  cannot find or open stackoverflow_similar_questions.zip, stackoverflow_similar_questions.zip.zip or stackoverflow_similar_questions.zip.ZIP.\n"]}]},{"cell_type":"markdown","metadata":{"id":"hil2UsUG6j22"},"source":["Считайте данные."]},{"cell_type":"code","metadata":{"id":"B4EBho8s6j26"},"source":["def read_corpus(filename):\n","    data = []\n","    for line in open(filename, encoding='utf-8'):\n","          data.append(line.split('\\t'))\n","\n","\n","    return data"],"execution_count":null,"outputs":[]},{"cell_type":"code","source":[],"metadata":{"id":"61X0GFlvRZui"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","metadata":{"id":"kkTxY3Mk9_nG"},"source":["Нам понадобиться только файл validation."]},{"cell_type":"code","metadata":{"id":"PTVB9Tnp6j29","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647549546,"user_tz":-180,"elapsed":1756,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"60eab3f0-e4fb-4553-ffed-802a26388276"},"source":["validation_data = read_corpus('./data/validation.tsv')\n","print(validation_data[2])"],"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["['jQuery: Show a div2 when mousenter over div1 is over', 'when hover on div1 depenting on if it is on div2 or not it should act differently', 'How to run selenium in google app engine/cloud?', 'Python Comparing two lists of strings for similarities', 'Hazelcast creates 3 nodes/members when configured as Hibernate L2 cache', 'JSON-LD framing single object arrays', 'Is there a way to print to the console in an Android app?', 'Run server-side code on html button press in Express?', 'Sorting an array by alphabetical order before it is selected by UIPickerView', 'Node - Prevent child process from going in to parent directory', 'No Empty Trash scheduled task in Sonatype Nexus OSS 3', 'Delphi XE7 - FMX Android - Entitlement List missing from Project Options', 'Codeigniter HMVC: Second child module not working', 'java Scanner declaring', 'SAS procedures Delete and Datasets', 'Showing Distinct Values with Aggregates', 'Creating a new Event with Objects', 'How to pass parameters via dsp:iframe to the iframe', 'isa is deprecation issue', 'Check if document exists in mongodb using es7 async/await', 'How to load dynamic contents to slider drawer in android?', 'Can you help me understand pointers and addresses?', 'How to return different strings from a Boolean type in MySQL?', 'Rails bug: accepts_nested_attributes_for is not updating my has_many association', 'Automatically Logout of Application when in Background?', '(ETW) EventSource in a common component', 'Understanding Chef::Config.http_proxy', 'Comparing byte[] in LINQ-to-SQL and in a unit test that uses mocking', 'Are HTTP accept extensions exclusive?', 'Breeze connection to Entity Framwork(DB first)', \"What's the safest way to launch an untrusted URL?\", 'MySQL column name standards / conventions', 'Openshift new-app from local Docker image', 'issue with fading in and out in jQuery', 'Java ProcessBuilder Cannot Find File Specified', 'AWK: Recursive Descent CSV Parser', 'Bar chart not displayed with chart.js. can some one help? code pasted below', 'Setting panel attributes dynamically in Sencha Touch 2', 'Add object on a tableViewController', 'PHP closes program when using AJAX', 'socket.error: [Errno 10054]', 'set a specific umask for only one user including ssh (and sshfs/sftp access)', 'Using Kentor.AuthServices.StubIdp as production IDP', \"'Property does not exist on type 'never'\", 'log in yii2 account using Alamofire', 'ruby on rails getting a 2-way friend relationship in active record?', 'Python and Regular Expression Substring', 'How to use checkstyle:check in a multi module project', 'IE 8 Canvas using excanvas polyfill: no errors, but animation is not running on IE 8', 'VB Script - Find Most recent folder, copy files to destination folder', 'Improve TSQL Stored Procedure for pairwise execution of procedure', 'Can you save a file on the local drive through RemoteApp instead of saving to server drives?', 'Add two times the same class on one element', 'Current way to download large files in rails', 'How can I download the examples from twitter bootstrap website', 'Java Web Services: Getting HTTP 400 with generated client code in simple app', 'scanForPeripheralsWithServices:options: unable to connect when specifying services', 'presenting modal views in a popover', \"Glimpse.EF.AlternateType.GlimpseDbProviderServices' not found\", \"Thread.Sleep(0) doesn't work as described?\", 'How to add text to textarea by pressing the enter key in javascript', 'Is there a way to retrieve the SQL results without using iterator? (using hibernate)', 'Is it safe to send sensitive data via Intent or Fragment.setArguments()?', 'Hadamard matrix code', 'EditText View returns null', 'Loading JNI Dll', 'Xcode 6/iOS 8 - Where is the .app file', \"My Ajax call isn't working - Trying to populate jstree via ajax php & mysql JSON\", 'how can I run play framework with port=9001 under windows cmd not under play console?', 'git add of unstaged file succeeds, but file is not staged', 'LINQ query to find Date difference?', 'How do I reduce the padding around text in Android xml layout?', 'How Can Users Select Days of the Week?', \"Skipping precaching: Cannot read property 'concat' of null`\", 'Karatsuba algorithm - Error in my implementation', 'Deleting entities non-destructively in Symfony2', 'When run \"sonar-runer\" throw exception :\"Caused by: Unknown database status: FRESH_INSTALL\"', 'Why the variable is out of scope?', 'Plot in matlab, using Latex interpreter', 'How to Rename SWIG Generated Proxy Java classes created from C enum types', 'How to get the default HIVE_HOME in cloudera quickstartVM -5.7.0?', 'Is there any way to programmatically add a startup script to the local group policy?', 'UISegmentedButton setting tint color using pattern', 'div width height according text?', 'SQL Server - I need to see correct date/time and not a number', 'Java -version shows 1.3 when I updated the classpath to c:\\\\java\\\\jdk1.6.0_20\\\\bin', 'xhttp GET request to an express.js server - nothing returned', 'positioning the cell in pdf using fpdf', 'Using RestSharp in Windows Phone 7', 'Dynamically select the columns to be used in a SELECT statement', 'Application Data Folder and Company Name With Underscores', 'Get Disk Number From Current Location', 'Finding matching string from javascript array', 'Unable to start activity ComponentInfo{...}: java.lang.NullPointerException', \"Trouble Using Apache's HttpClient with HTTPS in Web Containers\", 'Need to convert multiple Fusion Chart to image from code behind', 'What does \"0 skipped, 0 blacklisted\" mean in the Qt Unit Test framework?', 'No plot window shows up with matplotlib.pyplot run with Enthought Canopy python editor on MacOSX 10.8.5', 'buttons are not displayed', 'Linq query generator tools', 'Strict Standards: Non-static method Error in Joomla', 'Heroku ssl:endpoint with GlobalSign ExtendedSSL', 'Can I override a color on an DrawingBrush image loaded from a resource?', 'trying to get rid of a persistent log warning debugging on Huawei Ascend P6', 'Accessing Matrix Array Value in Json_encoded Array', \"Bind Control's Property to Variable, Bind Variable to Another Control\", 'To which C# data type does MS Access \"Number\" type correspond?', 'Generating dynamic html through plsql', 'Angular POST request to AWS Elastic Beanstalk returning \"Response for preflight has invalid HTTP status code 401\"', 'Create OCMOD xml', 'Assigning attributes to a join table in rails', 'Order by enum description', 'Android SDK installation (adt-bundle-windows-x86_64-20131030)', 'Import a CSV file into Access database from SharePoint Online Document Library', 'Excel Macro VBA- How to save as xlsm with a filename based on date and cell value', 'GKLocalPlayer runtime error for iOS 8.4 with Xcode 7 Beta 4', 'ClipboardInterop content changed fires twice', \"Error deploying WCF Client - 'system.servicemodel was not found in SQL Catalog'\", 'Generate a large random planar graph', 'Execute a sql statement when a connection is created', \"How to know if all the Thread Pool's thread are already done with its tasks?\", 'Synchronize between an MS Access (Jet / MADB) database and PostgreSQL DB, is this possible?', '\"This is test order, You will not be charged\" Error', 'Matlab error in ode45 or fourth-order Runge-Kutta method to solve a system of coupled ODEs', 'Multiple Command Binding', 'How can I display email formatted as \"FirstName LastName <FirstNameLastName@domain.com>\" in HTML?', 'How to encrypt data using KMS key in AWS Powershell script', 'How to set application identity of an application pool using web administration module in powershell?', 'Center aligned zoom in / out Image animation', 'CyVis 0.9 Ant task failing to generate html report', 'an error when choosing between two specific date in datagridview in VISUAL BASIC', 'How to upload second version of app on app store?', \"Active Directory Authentication Library (ADAL) won't install Visual Studio 2013 .NET v4\", 'WPF Memory Leak from Drag-Drop', 'How to create a table cell with a two-colour background?', 'React: How to animate the change of the component rendered?', 'Error Number 10170 in Verilog using If/Else and Case Statements', 'PHP Generate UL LI , UL LI', 'knapsack problem (classic)', 'Load More / Show Less issues using jquery', 'How to read utf16 text file to string in golang?', 'Microsoft Access Sub Form Write Conflict Troubles', 'Make changes to a git submodule and then add those into my main project', 'sscanf with pipes C', 'SQL pivot with dayValue [dealing with date in pivot-table] MYSQL-solution', 'Hide empty element on Bootstrap tab via jQuery', 'How to read a key pressed by the user and display it on the console?', 'Parsing a string into an table using oracle SQL', 'Applying array_agg / array_to_json to a query with modified columns', \"MongoDB.Driver.MongoCommandException: 'Command aggregate failed: '$group' is not supported.'\", 'give type to anonymous type in linq query', 'check if sorl-thumbnail has already cached an image', 'Powershell- convert CSV to XML', 'Magento and configurable product attributes', 'Programatically disable series on nvd3 Horizontal Multi-Bar Chart', 'dateutil parser without defaults', 'How to handle javax.faces.resource resource not found', 'How to compare 2 vectors and create a separate vector based on the comparison', \"Check for the google maps spelling of a location's name\", 'How to visualize only the descendants, ancestors, and self of a node in a hierarchy?', 'Bootstrap 3.1.0 modal remote content', 'How to pass Model Value through ActionLink', 'How to make cakePHP 2.x in sub directory appear in root (with mod_rewrite in htaccess)?', 'Twitter API: post on behalf of whom?', 'Function pack() returns 0', 'Drag/drop from ListBoxDragDropTarget to PanelDragDropTarget', 'Retrieve all content between a closing and opening html tag using Beautiful Soup', 'How to sort a vector containing const values', 'Lucene.NET in medium trust', 'Wrapping C++ functions with GNU linker', 'Wrong attribute of sequence parser', 'Cropping image based on background stripe colors with python', 'Simple 2 column layout', 'spring security 4 custom login page', 'Circumventing GPL Packaging of Non-Virally-Licensed Libraries for Debian or Ubuntu', 'How to open up an Ionic Modal upon click?', \"Alignin div's like pinterest\", 'how to access multipolygon coordinates in mysql', 'Delphi RTTI SetValue for Enumerations', 'Modifying Python code to use SSL for a REST call', 'How to edit page tab image? OAuthException: (#300)', 'Powerbuilder PFC : Where to start learning', 'Error Launching AptanaStudio3 in OS X El Capitan', 'Windows Azure Authentication Provider is not enabled', 'How to return correctly a NSMutableString from a method', 'Why is the lowest-ID row always returned when also returning a MAX value for a column?', 'How can I load optimized code in GHCI?', 'Ruby \"return unless nil\" idiom', 'html textarea injecting line breaks', 'R find value in multiple data frame columns', \"TypeError: can't multiply sequence by non-int of type 'float' : prblem with NumPy arrays\", 'Replace a word in text file with another word using macro', \"detecting a div's position based on it's attaribute\", 'System.ArgumentNullException in System.Threading.Monitor.Enter', 'Expose C++ buffer as Python 3 bytes', 'Advertised disk space vs actual disk space', 'Xcode: disable cocoa breakpoints', 'Which framework best to use for a cross-platform cross-devices platform with multiple apps', 'sending mail by android app using javamail api without user interaction', 'AngularJS - Render multiple strings and HTML files in a single tag', 'Add CSS to react created elements like data-reactroot', 'Does LINQ-to-SQL Support Composable Queries?', 'POSIX partial write()', 'Git extension does not work in Visual Studio 2017; Is it a known issue?', 'Cannot create new plotting window (device?) with par(new=T)', 'How to Add CAPTCHA ControlForm into page', \"Why the component react-native-typewriter doesn't work?\", 'Google Scripts Concatenating rather than adding', 'Passing quoted string arguments to a bash script', 'Query String generated by $.param() include square brackets for array', 'How to display hidden table rows with radio buttons using JQuery', \"Preventing CKEditor from adding 'data-cke-saved' and converting &lt\", 'knockout foreach binding not working when viewmodel used as a sub-view-model wizard style dialog', 'bootstrap textbox autocomplete', 'Visual Studio - migrating to new layout', 'Firebase authentication Iframe', 'Can I use Roslyn to accomplish this C# syntax transformation?', \"camera2's setVideoFramerate() doesn't have any effect\", 'How to mock methods with lambda as parameter', 'Add values to app.config and retrieve them', 'R extension breaks connection to extensions directory in NetLogo', 'UITableView and UILabel repeating', 'XOR neural network error stops decreasing during training', 'knit HTML does not save html in vignettes/', 'How to get a list of items when using cassandra', 'RXJS: Aggregated debounce', \"Rails + Emberjs: Can't verify CSRF token authenticity\", 'Thread.Sleep(0) is not working as expected', \"Any problems in using hibernate's session.connection() to run native sql\", 'Tkinter MessageBox Align', 'When to choose development of a PowerShell Module over PowerShell Script', 'XStream: How do I map xml mixed attributes and elements to POJOs?', 'Rails query interface where clause issue?', 'How to manage .NET Master Pages in Dreamweaver CS4?', 'Handle UnauthorizedAccessException When Directory.CreateDirectory() Run', 'WPF: How to make HeaderedContentControl.Content fit height?', 'Create a credential object in java SAML', 'Initializing a pthread mutex in shared memory', 'Generating TestNG reports', 'Hide dictionary path in autocomplete popup menu', 'AIR/Flash mobile/As3/ lowering resolution or upscaling for performance', 'How to run node app with sublime text', 'Django - How to add html attributes to forms on templates', 'How to test whether x is a member of a universal set?', 'PDO SQLite query zero result issue', 'Semantic UI form validation - validate certain form fields only if value is not empty', 'Use parentheses to disambiguate an expression like `liftM b ap c`', 'jQuery AJAX call, how to handle', 'onActivityResult return before pick up image', 'Adding third party vendor dependencies to mean.js', 'Fast Way to Use VIPS Image as a QImage', 'Doubly Linked List with different type of head', 'NoSQL Database for real-time, two-player Facebook Game', \"Threaded Beans doesn't get Environment @Autowired to them in Spring when using JSR330 Provider\", 'Does number of wildcard characters(specially %) matter in SQL Like Statement?', 'Ctrl+S (horizontal split) not working with Command-T in vim', 'homepage is different from any other page on website', 'Zoom toward mouse (eg. Google maps)', 'Fix progress report in this method that merge files', 'FFmpeg: How to control console output while reading from RTSP?', 'Can the PostMessage API be used to communicate with an Android WebView?', 'Redeploying Java EE applications immediately', 'Get host name without using HttpRequest', 'Generic parameter T could not be inferred. Factory methods', 'How to start new conversation in imessage using applescript', 'Error with svydesign using imputed data sets', 'How can I resolve a fatal SQL statement error?', 'Can we add custom keys in Tiff file or how to add temperature data in image properties of Tiff file', 'Eclipse PHP IDE - custom auto complete tags', 'How select json value in soapui property transfer from HTTP request?', 'In R, how to make dots transparent while using scale_size in ggplot2?', 'Tkinter pop-up window with check button, not able to get check button states', 'How to remove image and write text in a UIButton in Swift?', 'xCode4 Lua Syntax Highlight', 'Google Admin Directory API SDK User Last Logged In Not Fully Accurate', 'SELinux influences \"failed to open stream: Permission denied” PHP error', 'how to restart a git repository', 'PHP Max amount of inserts in one SQL query', \"Graph Facebook API giving cURL error when trying to post to a user's wall\", 'Spring Security HttpSecurity Configuration Testing', 'Dividing a CDialog in two areas with different backgrounds (picture of the objective inside)', 'To have AR support back after creating project with --skip-active-record option in rails 3', \"Counting 1's in an integer using mips assembly language (without any flow of control instructions)\", 'Aligning SCNText with SCNBox in iOS SceneKit with boundingBox?', 'How to hide the form assistant bar at the top of the keyboard?', 'Different behaviour with std::unordered_map container on Windows and Linux', 'Symfony 2.x shows broken layout with clean install', 'Facebook registration flow from Android', 'Apache Zeppelin AD users not binded to groups', 'embedded font flash.text.engine', \"GWT RPC can't instatiate class on server side\", \"Can't map route to action mvc3\", 'file download using RequestBuilder of gwt', 'what is the correct path to the iMovie Projects folder to use in an AppleScript', 'GlibC Double free or corruption (fclose)', 'Box API v2 uploading multiple files per single request is limited to 20', 'CSS3 Rotate on animated element causing click event not to invoke', 'JavaFx resize Window and preserve aspect ratio', 'Insert button is not inserting data into the Database and no errors are given at all', 'Position an UIImageView over another with scaling', '(window).load and (document).ready functions are conflicting', 'Django Paginated Comments .. is there any existing solutions?', 'Convert managed unsigned char* array into a jbyteArray', 'Get values on a row based on two or more rows in Excel', 'Java - How to apply a keyboard shortcut of 3 keys for a JButton?', 'In d3.js map, points are hidden behind other features', 'How do I hide certain rows in a ui-grid based on its values?', 'Seaborn countplot with normalized y axis per group', 'Matlab image display in specific old figures', 'How do I get the text set on a ListView item', 'protractor + cucumber - element not visible even though element is visible', 'How to get count in this query?', \"SetLabel doesn't work on a JPopupMenu\", 'iPhone Memory Leak from AudioToolbox when using MPMoviePlayerViewController iOS 4.2', \"Can't detect click function HighCharts plotLines & plotBands.events\", 'Print content of jquery dialog to a printer', 'position absolute.. anyway to stop this elements moving?', 'Accessing OS X keychain item from trusted application', 'UDP bind: Address already in use', 'Choosing and iterating specific sub-arrays in multidimensional arrays in Python', 'Image segmentation by background color - OpenCV Android', 'Which variable is minimized by scipy.optimize.minimize/How does it work?', 'How can I get rid of input border in chrome?', 'How do I associate a new rvm install with existing ruby versions?', 'Creating admin panel in Yii', 'Is File Watcher available in Windows Mobile', 'Rails 3 test fixtures with carrierwave?', 'How can I store and access a filehandle in a Perl class?', 'VBA to Paste format from original Workbook to new Workbook', 'Castle Windsor: How to register by convention with delegate method?', 'Angular2 authguards executing asynchronous functions fails', 'What is the best way to obtain the optimal number of topics for a LDA-Model using Gensim?', 'Does an Enum exist for Asc or Desc ordering in .NET?', 'Vue.js does not render correctly using template', 'nginx alias+location directive', 'how to fill each Column in datatable', 'MYSQL fetch 10 posts, each w/ vote count, sorted by vote count, limited by where clause on posts', 'iostream library not included in codeblocks', 'How do I use adb grant or adb revoke?', 'Handle enter key in EditText across different devices', 'Anomaly in GNU Prolog `delete/3` predicate?', 'Why does assigning a value to $? crash Powershell?', 'Apply formula to column through macro', 'How do I create a file with a user-supplied name in C++?', 'Visual Studio multi-project template different name for child project folder and csproj file', 'Unable to CREATE SQLite tables using JavaScript in for loop', 'How do I access Dictionary items?', 'Eclipse Kepler hangs when trying to debug Clojure project', 'AngularJS Access denied when loading partial in IE11', 'Update field inside fields_for with Cocoon and Jquery', 'Laravel valet not working', 'Haskell / GHC -- is there any infix tag / pragma for \"warn incomplete patterns\"', 'WPF- TimePicker is not updating', 'How to make a request', 'Mapping an array of objects to key/value pairs in CoffeeScript', 'Repository without Entity framework', 'nvd3: set background fill behind line chart', 'Apps and app updates submitted to the App Store must be built with Xcode 5.1.1 or later, and iOS 7 SDK', 'Where should I include apostrophe in regex?', 'django get_or_create not working as expected', 'Initializing multiset with custom comparison function in C++', 'Cannot create Ignite-project', 'Google Maps API v3.22 reverting to old controls', 'MFC Dll with COM Interface', 'Database connection error in Yii', 'Multiline Regex does not work with tabs', 'Javascript in a wordpress page', \"Raphael is adding a 'dy' attribute\", 'How to parse a string to add line feed and tab after a curly brace/square bracket in java', 'Increase resolution ggplot charts', 'IllegalStateException when migrating databases from SonarQube 5.3 to 5.6.2 (and 5.5)', 'jQuery UI Sortable + Draggable + Droppable on same elements', 'angular-ui: how to get data from \"resolve\" option when using $stateProvider.state', 'Objective-C - Overriding method in subclass', 'Automatically trimming CHAR data on insert into VARCHAR column', 'Form validation with AJAX, Jquery and PHP', 'By using a matcher function in Select2 plugin, no results found message is not appearing', 'If-else statement inside multi-line macro (C++)', 'find about about the type of function parameters', 'How to reduce Ipython parallel memory usage', 'Grails 2.1 SQL to Grails GORM Query', 'Change radius to MKCircle on MKMapView with UISlider', 'About string length, terminating NUL, etc', 'Sorting/Searching on a table is not working', 'code igniter :: send url as param?', 'Outlook GetGlobalAddressList.AddressEntries query takes 30+ minutes', 'Finding all numbers in a array with top frequency?', 'document.getElementById and Value', 'Can you use .getResource() to load a text file in an executable jar file?', 'Search for a packages by a particular author', \"Error while installing netCDF4 for Python, can't find HDF5\", \"Program (c#) Running Elevated, Still Can't Access Some Files\", 'Boost asio udp read optimization questions', 'Get abs path from the currently edited file in Eclipse', 'CKEDITOR, calling the FullScreen Action outside of the CKEDITOR', 'Autotools include path', 'Setting start levels & auto-start of Eclipse plug-ins: p2.inf vs product definition', 'Accessing all the methods and classes for VS Extension with Adornment', 'grails Find max value in table column', 'Iterative modulo by repeated subtraction?', 'Check the attribute of items in a directory in Objective-C', 'Separate Workspaces or Separate Workspace Mappings for different branches of code?', '@After ,@before not working in testcase', 'Detect if Cache Driver Supports Tags', 'how do strip column from grep in terminal', 'Runtime bugs due to case-sensitivity in (variable) names', 'How to save a dynamic dropdown list in MVC?', 'Not able to set permission in Android 7.0.0', 'PulseAudio recording and playback fails', 'rhive.connect() issue', 'geom_boxplot drawing error with precomputed values', \"No matter what I try the header won't change color\", 'PHP/Javascript passing message to another page', '.NET Terminating Threads in an orderly fashion', 'Why do I get javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated only in production?', \"How do I access the root element of an MXML document if I can't set an id?\", 'When should overflow:hidden be used for a <div>?', 'Android / Huawei: java.io.FileNotFoundException: /data/cust/xml/hw_launcher_load_icon.xml: open failed: ENOENT (No such file or directory)', 'How do I fast foward branches without switching to them?', 'Qunit asyncTest that triggers an event passes when run alone but not when run after another test', 'Class filter_parameters method on controllers getting Hash instead of HashWithIndifferentAccess', \"What's the difference when putting header inside pch file?\", \"sound/soc/codec i2c driver won't probe\", 'how can i check if a compressed file(of all formats- zip/rar/tar/uue) is password protected, without extracting it in c#?', 'How to use awk to delete rows from one csv, some values in a column of which matche the other csv column?', 'Swagger validation issue - Not a valid parameter definition -', 'How can I get access to object of `QQmlApplicationEngine` inside a `QQuickItem` derived class?', 'C # Winform : Sending data from sql to web service', 'Devise allow access to protected url with link', 'URLLoader Event.Complete Not Triggering', 'How to import Google contacts in ASP.NET MVC (no third party please)', 'jQuery + Rails + ajaxForm + js.erb problem', 'Building iOS app, website, and backend', 'Is there an alternative to indexOf for jQuery?', 'Mocha + React: navigator is not defined', 'How do you prepend space in a string where Upper Case letter comes or where a space really needed', 'PivotViewer unable to display collection - only shows link to cxml file', 'How does Entity Framework handle interfaces?', 'List view item having multiple buttons', 'How list methods works in java', 'Can I get NHibernate to enforce that a string property is non-empty?', 'Can someone provide an example for the ImageCompare methods?', 'Two issues with WS_EX_NOACTIVATE and WinForms', 'xpages copy field value to another field from other datasource', 'Incorrect syntax near comma', 'How to integrate big data files into QT Project (Error: cc1plus.exe out of memory allocating xxx Bytes)?', 'How to ADD all files/directories except a hidden directory like .git in Dockerfile', 'Error (10170): Verilog HDL syntax error at TrafficLight.v(59) near text \"endcase\"; expecting \"end\"', 'Can we make these two loop combined means to run them parallel?', \"Ruby: 'bundle exec' throws error for all shell commands\", 'Webfont and width of the text issue inside jQuery plugin', 'Jenkins copy directories/files in a build', 'GSON deserialization : how to know the objects?', 'How to run an application in background for windows mobile 6?', 'too many characters in character literal in asp.net c#', 'Showing Interactions with @MockBean Annotated Mock', 'Using jQuery to perform a smooth scroll of a page using named anchors?', 'UrlEncode of link ids with ASP.NET MVC HtmlHelper extension methods', 'Is possible to read independently every stdout flushed string form a Child Process in node.js', 'how to load .scss files on demand via webpack', 'batch to copy third line of multiple text files into a new text file and append original filenames to each line', '<svg> element match child width and height', 'Using angular 1 module in angular 2 app', \"Can't get facebook checkins, data array always empty\", 'Memory issues with two dimensional array', 'Repository pattern design for multiple DbSets', 'what is the informix connection string to run a sql file through windows command prompt?', 'List of available cultures', 'how to count row1 from table1/count row1 from table2 returned result is group by day', 'Getting different data in ajax response froms second time', 'UITableViewCell returns null using objectForKey', 'Do i need a running website over internet in order to access Google analytics Data using Google API', 'vbscript - Replace all spaces', 'How to make git repo remember all remotes?', 'R distance matrix and clustering for mixed and large dataset?', 'Is it possible to setup a php app in one server and apache in another server?', 'Xamarin iOS app SIGSEGV', 'Porting a standalone JMS application to a web/app server', 'C++/CLI: Cannot explicitly implement interface member with different return type', 'Replacing directory with external results in \"working copy locked\" on `update`', 'Mapping predicates and propositions in DLV/Prolog', 'Android: Forcing UI refresh immediately', 'How to checkbox id to the modal box?', 'Unable to run logstash config file (permission denied)', 'Android REST API using PATCH method', 'Powershell - Creating Wide Tables', 'jQuery Effects work in jsfiddle but not in offline/online', 'What is the difference between Form5!ProgressBar.Max and Form5.ProgressBar.Max?', 'Move file from linux server to windows sharedrive with (i)python', 'KineticJS - Cannot add dynamic object', 'Django: How can I get a block from a template?', 'When can we say a design is completely RESTful?', \"String replace doesn't work when pass string through android webView JavascriptInterface\", 'Javascript private methods -- what is the memory impact?', \"can't find variable __fbbatchedbridge (<unknown file>: 1)\", 'socket.io upgraded from 0.9.6 to 1.3.5 sends wrong requests', 'AuthLogic UserSessions Controller Returning Nil', 'jQuery image slide show carousel when using ajax', 'java SimpleDateFormat pattern different with argument', 'jQuery find and delete string in array using same array', '$(shell [foo]) in windows', 'Hive query output to file', \"First wpdb insert to mySql new table isn't working\", 'boost::shared_ptr and nullptr in default template function argument', 'how to show api data in html view in Angular 2 get api', 'iOS sending audio file to web server', 'Where did extra space come from in html of Struts app?', 'Automatically set a property value for a new record in a Dynamic Data application', 'Symfony2 : how to remove request parameter?', 'Fluent NHibernate 3 and Oracle.DataAccess', 'How to check the type of a variable against another variable in Swift', 'How to avoid using asInstanceOf in Scala', 'Cursor visible on overlapping div which has higher z-index', 'flags for st_mode of stat system call', 'C# Getting sender address from UDP message', 'File upload working under Jetty but not under Tomcat', 'jQuery: getting/parsing content from different sites', 'Find parent keys in hierarchy in PHP', 'android path shifted once finger is removed', 'asp.net ajax like reorder list', 'Python: How to continue a nested for loop?', 'MVC3 Ajax.ActionLink', \"Will SCC pattern change if we reverse a graph(using Kosaraju's Algorithm)?\", 'Accessing css class from another file', 'sparkline R creating html table', 'multisampling and fragment shader', 'How to avoid reading comments in text file?', 'Redirect simple url to https in php codeigniter', 'Remote Validation Fails When Annotating Complex Types', 'how to display data in parse objects to recycler view in android', 'Set max_width , max_height 100% for Manifest nwjs', 'mysql UPDATE query does not run', 'PHP comet usleep blocking apache mpm?', 'Avoid .NET Native bugs', 'PCSC detect multiple smartcards', 'Proper usage of out parameter in C#', 'When using Grunt to build an app, how do you edit the HTML file script and style includes?', 'How do I perform this query using sailsjs ORM (waterline)', 'custom menu control in UIWebView', 'Display image and text inline', 'Canceling async httpwebrequests', 'complex sql statement to different rows', 'Remove weird border when ctrl click td in firefox', \"Catch isn't working\", 'How to fix java warning for \"The value of the local variable is not used \"', 'how to upload and read .csv file in jquery', 'pick photo from contacts', 'A workaround to get textAlignment to center in UITableViewCellStyleSubtitle', 'Time complexity analysis. while loop with inner for loop', \"Spotify Webplayer: Select Element 'Play' Button w/ Selenium\", 'Allow user to download external image PHP', 'django admin list page', \"How to configure NHibernate's Second Level Cache in NHibernate >= 3.2?\", \"Why doesn't the unix sort process grow as it consumes its input?\", 'Prevent another event from firing before a previous one is complete in jQuery?', 'Idiomatic expression simplification in Clojure', 'How to apply role-based security on struts2', 'Creating a CustomType in ng-admin fails silently', 'Need htaccess redirection', 'How to selectively delete messages from an AMQP (RabbitMQ) queue?', 'Online Java Thread dump analyzer', 'Save and access file from shared drive', 'Android: how to put TTS inside AsyncTask', 'Upload file using PHP from Compute Engine to Cloud Storage', 'Why no Circular Inheritance with same base and derived class names', 'OpenSSL binary distribution: meaning of the char at the end of version', 'Rails - How do I update multiple records via a form from the list action?', 'Fixed column size of FullCalendar', 'Get HttpResponse object as response from Volley api in android not jsonobject or string', 'Word counts in Python using regular expression', 'Why Iterator<E> iterator() is put in Collection, AbstractCollection when already in Iterable', 'Composition- could someone please clarify?', 'Visual Studio 2010 Improperly underlining code/comments with red error line when there is no error', 'How to set \"absolute\" area gradient?', 'Using INTEGER in SQL with CSV and Netbeans', 'C#/ASP.NET - Get thumbnail from PDF/DOC files', 'Adding a Random Item to a List for a Text-Based RPG', 'Error while decrypting file using KMS key in Amazon S3', 'Swift - How to find Largest value from an array and identify which array it came from', 'Rails Fragment Caching with nested Models', 'Eclipse Plugin - get Launch Configurations Tree List in a Dialog.', \"Why won't my multi-module Maven project install some of the modules?\", 'wsdl error: no proper separation of headers and document', 'Can we create TFS build definition of website without .proj file', 'jQuery select table cells with specific header', 'How to Edit a column (XtraGrid) only when adding a new row', 'Is Chrome and Firefox do not load the change in media source?', 'Redirect to Login if user not logged in Laravel', 'relations variable of content-type drupal 7', 'Change .eclipse folder in Linux', 'Calculate the width of a grouped tableview cell', 'How to get paginated results (async query) from bigquery python client?', 'How do I use OAuth2.0 to access gmail with Python over IMAP?', 'UIWebView stringByEvaluatingJavaScriptFromString Issue', 'Blurry text in WPF only when the program is ran', 'Getting YouTube livestream URL', 'Condition on numpy arrays', 'SHELLEXECUTEINFO UNICODE support?', 'Reading on QRCodes on iOS with AVCaptureSession -- alignment issues?', 'Using a function to handle AJAX errors, how can I pass additional parameters?', 'A control for choosing a number from a list', 'MATLAB: adding contour lines to points', 'Using Merge on a column and Index in Pandas', 'Rendering a OpenCV IplImage to a QGLWidget', 'Cakephp 3.x show me empty row with my custom query', 'SPuser to find group membership', 'Is there an easier way to do a macro to define a function with variable amount of arguments?', 'pickadate.js - disable dates in the past (including today) and also disable every sunday', 'React to classes added via Jquery', 'NMake macro definition on CLI which contains a space', 'How to send multiple http requests python', 'How to make greasemonkey click lots of links one by one?', 'Truncate given text to specific width, for a specific font', 'Fixed background image bug Chrome Mac', 'CSS: Semi-transparent background and an image', 'what is the equivalent of the \"literal\" tag in asp.net mvc', 'Database implementation details - per row header overhead', 'Set Custom Heigh Angular Material Autocomplete Dropdown', 'always use WIFI in Windows Mobile 6.5 C#', 'Does Google Analytics SDK 2.0 for iOS symbolicate crash reports?', 'Identifying different pickers in UIImagePickerController delegate', 'Excessive Memory Consumption in blank-ish WinForms application', 'Reset Status MariaDB', 'Insert HTML into OpenXML Word Document (.Net)', 'Install MVC on 2.0.NET Server with IIS6 without Admin Rights', 'Get distinct record from table using zend functions?', 'How To Start Using Kostache?', 'How do I read a Windows-1252 file using Rcpp?', 'Post form data to foreign aspx form', 'Need QR Code Assistance for getting an admission qr code ticket', 'when text changed inputbox automatically updates next 6 text boxes', 'Powershell - convert XML to CSV', \"Adding C++ DLL's to a C# project\", 'Cordova vibrate plugin is not working in ios', 'Thread not run immediately when using more than 4 BackgroundWorker', 'Rails 3 & Paperclip - Can I store images both on S3 & locally?', 'Get sum of column on last row, good practice?', 'Different makefiles produce different error outputs?', 'Change checkout steps order in Magento checkout', 'Time it takes to load data from prom', 'jQuery: Toggle Dropdown Menu Possibility', 'How can i get the siblings of an XML element in Java (using the DOM parser)?', 'How to set the viewport on a non-responsive mobile site?', 'Changing view or route after the request has been started in Pyramid', 'Swift: NSPopUpButtonCell in NSTableHeaderCell', 'stack ghci does not load local module but ghci does', 'How to retrieve data from three tables in SQL', 'How to call web service as part of uiviewcontroller in unit test?', 'how to retrieve the selected row of a QTableView?', 'Language detection API/Library', 'Type comparison in Haskell', 'Data is not populating in second level kartik depDrop in yii2. Gettin 0,1,2,3,4', 'iTextSharp - Use Colspan with PdfPRow', 'when to resize a hash table?', 'Panel is Invisible but children are databinding', 'What is the difference between the contracts in ABC of WCF and WCF Architecture?', 'Custom data annotation validation attribute with client side validation', 'tableHTML in shiny: show an image in a cell', 'Can you use Lambda expressions against ObjectSets in Entity Framework?', 'ajax call response not appending because of q-translate plugin', 'Amazon SNS configuration for Topics for iPhone/APNs integration', 'Use of fmin in python', 'Unable to successfully reject chained AJAX call?', 'How to set gif image as a launch image in xamarin forms', 'How to use Windows Key in my Application', 'Unexpected behavior when tracing index array in python', 'How to find object tag with param, and embed tag inside HTML using simple html DOM php', 'Maven GAE Failed to execute goal com.google.appengine:appengine-maven-plugin:1.9.12:devserver [...] NoSuchElementException', 'SaveFileDialog disables webpart buttons in Sharepoint using C#', 'How can I reshape a data.table (long into wide) without doing a function like sum or mean?', 'Writing post data from one java servlet to another', 'How can I only render certain html tags for my forum?', 'Android EditText Glitches', 'SpeechRecognitionEngine.InstalledRecognizers returns No recognizer installed', 'Convert.ToInt32(String) on String.Empty vs. Null', 'Crystal Report Not Showing Changes to Report', \"I'm looking to use Visual Studio to write and compile using the open source version of Qt4\", 'How to change sender name in Outlook ?', 'Setting the background color of statusbar in IOS app in XE8', \"Use of undefined constant CURLOPT_IPRESOLVE - assumed 'CURLOPT_IPRESOLVE'\", 'modal appears on page load', 'Make UIView stick to the top in a full width horizontal UIScrollView', 'lite-server pathing for local development', 'Masked Edit Extender Format Issue', 'Store mousedown locations', 'How to grab flash video and download video data with file_get_contents using PHP Simple HTML DOM Parser', 'what is the simpliest way to get jpg from bitmapData', 'XPath to first occurrence of element with text length >= 200 characters', 'grabbing image from folder based on size', 'Sails.js/waterline: groupBy + count', 'C# How to SELECT row n in EF6', 'F# NativePtr.stackalloc Unexpected Stack Overflow', 'Are blocks supported in iPhone OS 3.1.3?', 'Editing values during build via hooks', 'Kohana ORM - has many through models stored in parent model', 'Is there any performance difference in using .resx file and satellite assembly?', 'Using OSX Security-Scoped Bookmarks in a Firemonkey app', 'Passing function to another page in PHP', 'Could you confirm the existence or not of Matlab 64 bit?', 'Getting started reverse-engineering OS X?', 'TFS 2013 - no option to merge when resolving conflicts', 'Xcode window positions when switching from dual to single monitor', 'Running an artisan command forever with laravel forge?', 'How to auto update/refresh in grails view/site?', 'How to build docker image using Jenkins pipeline?', \"Adaptive Simpson's Method without Recursion\", 'What makes some programming languages more powerful than others?', 'PHP files downloading', 'Search posts based on multiple categories WordPress', 'Parent-Child one-to-one Relation same Table', 'How can use not embedded fonts for create new pdf file using itext in android', 'What is the correct pom dependency for the below java code?', 'Convert int64_t to double', \"Magnolia Mail Module Doesn't Work\", 'Error deleting tabs in envelope', 'Typo3 Content Elements not visible in own Fluid Template', 'Jquery easing effect', 'Sails fails to load when using remote Mongo DB', 'Fetch Gmail, Yahoo, Hotmail contacts with pagination using OmniContacts', 'Calling an extension method on a member variable of type T of class<T>', \"Why doesn't match_parent work when view is larger than viewport?\", 'Setting background color of android actionbar', 'How can I determine if a postal code is inside a defined area?', 'Check if GPS enabled on node.js + cordova + ionic app and if GPS disabled, notify the user and direct him to settings to switch on GPS', 'Warning: mysqli_real_escape_string() expects exactly 2 parameters, 1', 'Horizontally scale socket.io with redis', 'How to create CollectionView global object Which can be accessible from any controller?', 'Google app engine datastore testing no api environment is registered for this thread exception', \"android webview find element doesn't work before Kitkat version\", 'CMD & control keys swap in ubuntu', 'Django-tastypie pass request.user to custom save method', 'ioctl to block operation', 'Failed at AJAX POST request to the same page (with example)', 'Django TemplateSyntaxError: Error during template rendering', 'Return Value of Oracle.DataAccess execute non-query (stored proc)', 'How to make atomic updates to solr using pysolr?', 'Jquery datetimepicker in ASP.NET', 'Upgrading from SQL 2000 - 2008 - Log Shipping', 'How to support emojis with flourish?', 'how do I design intermittent via points for travel itinerary', \"Login-AzureRmAccount can't login to Azure using PSCredential\", \"Regex issue, restricting '*' character\", 'In Python, is there a way of saying \"if x == 2 or x == 3\" without repeating the \"x==\" part twice?', 'Probe problem when writing a I2C device driver', 'can we implement Spring Autowiring in Java Standalone Application (Swing)', 'The encoded file is not permissioned error', 'InvalidOperationException \"get_MetadataToken() cannot be used on the current platform\" when creating tables', 'In XAMPP numbers act different than real servers?', 'logging all properties of an object in c#. how to log inner object properties as well?', 'Optimal use of BitmapFactory.Options.inSampleSize for speed', 'What better tool than Sikuli to use for screen automation on Windows 7 (or preferably multi-platform)', 'Counting in XSL:FO', 'valums Ajax file uploader+406 not acceptable Error In Firbug', \"Icon's priority on action bar (keeping order of items)\", 'node.js form elements array', 'Testing private methods using RhinoMocks', 'pyscripter Rpyc error', 'CSS Vertical align middle', \"Why isn't a function declared as async of type types.CoroutineType?\", 'Remove space from columns while importing in SAS', 'nginx lua redis cookie not setting', 'Always gitlab 502 error on RaspberryPi', 'Populate a WPF Listbox Child Items with Dynamic content on Selection', 'how to find Sum(field) in condition ie \"select * from table where sum(field) < 150\"', 'UICollectionviewCell backgroundColor not Change when selected', 'How to dynamically change the background image in Meteor?', 'Abstracting gesture recognizer to two functions in Swift?', 'How to tell required version of PowerShell to run a command?', 'shouldReceiveTouch on UITableViewCellContentView', \"The conversion of type 'TimeSpan' to type 'Date' is not valid.vb.net\", 'Landscape Launch Images on Xcode 7 madness - [FIXED]', 'Old MediaWiki site broken in Chrome', '-Webkit-scroll bar + overflow + JQuery scrollTop returns always zero', 'reorder byte order in hex string (python)', 'Passport + Socket.io get logged user id', 'Background Image in Linearlayout', 'Autocomplete the input field(type=\"text\")', 'Using latex packages in MATLAB markup publish', 'Triggering Script VIA URL variable', 'Quickfix Which has higher priority: message header or sessionID?', 'Custom content type associated with Blog', 'Get log file name of database from .mdf file', 'Android wear Accelerometer/Gyro sensor', 'How to make a Nested Json Model in Vapor Swift Server , Below are the Code for the reference..?', 'Java compress/decompress large files (>1gb)', 'Why do core.async go blocks return a channel?', 'How can I change the size of rgl plots in Shiny RMarkdown?', 'PHP Zend_Db_Statement_DB2 returns null for static field', 'How to convert rows to columns in DataGridView', 'Best way to build/compile/deploy ReactJS to production', 'Dynamically set LESS variables from user settings', 'Is it possible to keep the Facebook session alive?', 'Python Tkinter after event OOPS implementation', 'Paypal IPN returning HTTP/1.1 200 OK', 'AWS Elastic Beanstalk Vs EC2 Container Service (ECS) - Docker', 'Dictionary Help! Extracting values and making a table', 'change the color of the Navigation item', 'What is document in JavaScript and what is its scope?', \"Error when I'm trying to create opportunity when converting lead to opportunity in my custom module in OpenERP\", 'Why does my dojo.domConstruct.create command not work?', 'How to fetch username of the user who is logged into AD domain on OSX using objective C', 'Sweep / chirp signal ends at incorrect frequency', 'Python tkinter scrollbar/graph scale slowing down scrolling', 'Expire session automatically and detect if the session has expired in Codeigniter', 'How to set an Alarm or Reminder events in Windows 8?', 'How to upload a Cordova picture to a Laravel 4 project by using an API', 'If only one object field is required in a method, what should be passed as a parameter - an object or a field value?', 'Populate fragment with Bundle arguments', 'Changing Source url of a XYZ layer and redrawing the layer/map?', 'Generate random polynomials with MATLAB', 'How can I display data in one table from different sql statement?', 'CSS with Google App Script', 'GSON issue with String', 'C# Annotation types in abcpdf', 'Clockwise Shifting a Matrix', 'Changing version of Azure Storage', 'Web Crawler not working in nested divs', 'How to restrict to input time for edittext in android', 'Orbeon 4 M11 + GlassFish 3.1.2 coused errors with HTTPURLConnection', 'Smart HTTP git client', 'Cover all blocks in this codeblock with unittesting', 'Add MVC to Existing Web Application with Empty Template', 'How to iterate nested objects and render inside jsx?', 'C# Component collection property not serialized when filled from property setter', 'matlab: eigs appears to give out inconsistent results', 'MYSQL Select Query where i want two row base on where condition', 'Cannot get current position of CALayer during animation', 'How to know if application is disabled in Android ICS', 'NSMutableDictionary not reading anything from plist', \"AngularJS post request doesn't get server response correctly\", 'Setting IBus Property in MVC Filter', 'a hover button in react.js', 'Fixed scrolling on a div', 'Write Text In A Already Existing Text File VB.NET', 'How to correctly deserialize a JSON string into the class that contains a nested List of another class', 'dynamic update to data for dygraph in R shiny', 'SignalR Updating TextArea realtime', 'Using MongoDB as our master database, should I use a separate graph database to implement relationships between entities?', 'Setting button to be visible', 'NSTextView : contents are gone when scrolling, and shown when on mouseover', 'IE is centering my svg', 'How to perform 0Auth2.0 authorization for Google Spreadsheet API for android?', 'Change the width of the cell content in java using PDFCell', 'php - If Pagerank Is Less Than 0 Output N/A', 'Google Maps: how to calculate the \"double\" the zoom level?', 'Scope inheritance fails with multiple-named views?', 'JSON validation with custom schema', 'Cakephp foreach', 'Dynamically change the response language of Google Maps API for iOS', 'Read output from external process', \"Marshalling DIDL-Lite with Go's xml package\", 'XAMPP apache Http server has stopped working', 'Dynamically populating Interface with for-loop in Shiny', 'Initializing UITextView based on the available text font size and font name', 'Outputing index of negative numbers in a list (using structural recursion)', 'use of built in forms and views like PasswordChangeForm in django1.3', 'How to get bundle identifier of application by context id or by mach port in iOS 7(Jailbroken)?', 'Java Play activator crashes after a minute', 'OnClick event for whole page except a div', 'Django Callback on Facebook Credits', 'how to create and download a file using play framework?', 'optimum OS,server, etc setup for rails production environment', 'MediaPlayer Error (1, -2147483648) android programing', 'quickfix create order and send to currenex', 'Git cleanup/garbage collection on remote VSO git repository', 'Azure Webjobs ignores CRON expression', 'Disable shortcuts in Google Chrome', \"Selenium Webdriver can't find elements on IE8\", 'How to add a marker to a MapBox GL JS map?', 'Spring message-driven-channel-adapter: handling connection refused error', 'Connection Error to connect Rhive to R', 'Stop GCC on error with multiple files compilation', 'does linux load program-pages on demand?', 'JavaFX Text in/on Polygon', \"Java Generics : Casting a raw type to any reifiable type doesn't generate unchecked cast warning\", 'Admin User and Password for Netbeans created Glassfish domains?', 'Digital frequency doubler with a dual edge triggered flip flop in VHDL', 'How to I save a PDFSharp object to multiple files?', 'how to set the fieldname using a template in angularjs', 'Create object from remote JSON', 'How to map one column with other columns in an avro file?', 'My game is flickering due to my painting directly in JFrame. How do I use JPanel?', 'Make an OR with ransack', 'How do I handle multipart/form-data from jsp in Spring controller', 'NoClassDefFoundError during Tomcat graceful shutdown', 'How to generate a predictable shuffling of a sequence without generating the whole sequence in advance?', 'How to add C++ files in iphone project', 'css different height div grid space', 'Spring Data JPA - insert a base class into the repository', 'Jquery UI Resizable with box-sizing: \"border-box\" issue', 'How to use a set of data to generate date list between two date for each ID in mysql', 'Widestring to string conversion in Delphi 7', 'Why is \"cabal build\" so slow compared with \"make\"?', 'Canvas.drawBitmap performance on Android 4.3', 'C# combine 2 events in one method', 'InAppPurchase stop receiving the productRequest response after deleting and reinstalling app', 'Cannot start under Java 1.7.0_55-b13: Java 1.8 or later is required', 'Any word on reified generics in Java?', 'Reopen Impression Class from Impressionist Gem in Rails 4', 'I want to show EditText record of first Custom ListView to second Custom ListView EditText', 'How to specify which start event should be called from a BPMN callActivity', 'Prevent ItemChecked event on a ListView from interfering with SubItemClicked using C#', 'Opening a pdf bytestring for reading', 'ASP.NET Partial Page Class Names Best Practices', 'How to triggered mail automatically for every 3 days up to 3 times', 'pyodbc returns SQL Server DATE fields as strings', 'EmberJS multiple inverses of the same model type', 'VueJS 2.0 v-model dynamic target inside v-for', 'Method Optimisation - C#', 'how to display linux partitions using python?', 'how to make pop-up image using css3?', 'how to get the excel workbook mathematical operators using apache poi 3.6?', 'How to sort ArrayList of integers without regardless of positive and negative values', 'How to create custom error page in spring boot', 'Update free space amount displayed in Windows Explorer', \"Error using ==> fprintf Function is not defined for 'sym' inputs\", 'How to make overflow menu like Chrome app?', \"TypeScript 0.9.* VisualStudio TS5037: Cannot compile external modules unless the '--module' flag is provided\", 'How to delete duplicated rows based in a column value?', 'FireBase Authentication Server Hosting Error', 'Hyperledger Fabric fabcar example chaincode in dev mode (peer-chaincodedev)', 'Spring @CacheEvict one key evicting', 'Cant get the zend loader to load classes only under wamp', 'Codeigniter Date format', 'how to parse data from Soap envelope object in android', 'Displaying NSDecimal values in XCode debugger', 'Convert Separate TableViewController and ViewController into UISplitView', 'how to mail dynamically generated dropdown fields values in PHP?', 'Partial inheritance - inheriting some functionality, minus a problematic method', 'Tipps for developing an ajax based wizard for mvc/razor', 'Observer not working in Ember?', 'Python: is there a C-like for loop available?', 'Powershell remove XML tags', 'Ruby HTTP POST - Errors', 'How to dynamically change image/div dimensions based on window size?', 'Animating multi-path polylines in Google Maps V3', 'Nested React <input> element loses focus on typing', 'get value of child <div> of a parent <div>', 'ODBC connection for 64 bit R and 64 bit MS access Database', 'Linking against clang-llvm', 'Wamp setup - CFIDE - Coldfusion mapping is not working', 'Jquery slow reaction time', 'How to limit rate of requests to web services in Python?', \"Google Drive/OAuth - Can't figure out how to get re-usable GoogleCredentials\", 'Return to Search result page', 'Facebook news feed reader on android', 'generating maven project inheritance/aggregation diagram', 'jinja2: building table by iterating down columns instead of across rows', 'Where do you put your dependencies?', 'Move item from one listBox to another listBox', 'Why does Perl\\'s IO::Socket on Windows complain about \"Resource Not Available\" after 64 connections?', 'Redirect to other html page and scrollTop: to a certain div', 'How to load php page with fancybox?', 'Visual Studio Code command \"dnx run\" not available', 'How to avoid \"‘main’ is not defined in module ‘Main’\" when using syntastic', 'Drawing a triangle with rounded bottom in CSS?', 'What framework does Windows Phone 7 and Windows Phone 8 support?', 'Single/sub pixel misalignment of divs on ipad and iphone safari', 'Count and Order By Where clause Matches', 'Firebase local server', 'Mean App, not crawling using google crawler', \"R's coreNLP::initCoreNLP() throws java.lang.OutOfMemoryError\", 'Android - aChartEngine getCurrentSeriesAndPoint() not working for disconnected graph', 'Minimize function selection and function call overhead?', 'Can a Scala script reference other uncompiled scala code in the same directory?', 'Read Call History from iPhone on iOS 5 and above', 'How can I send binary data from Sinatra?', 'Batch script to find a regex in a text file and write it line by line in another text file', 'draw polygon shape on canvas and allow tooltip on it', 'determine the root exception?', 'The task has more than one activity', 'Stream types in C++, how to read from IstringStream?', 'Dozer Boolean Mapping - Generic Method', 'Unable to add Impressionist model to Solr', 'Docker image for Spring/RabbitMQ tutorial results in connection refused', 'oozie sqoop action with hive import', 'Barcode detection using Hough Transform & Edge Detection', 'How can you solve equations in PHP?', 'unexpected indentation error with favicon_tag after migration to rails 5.0', 'Regex to split on whitespace but not escaped whitespace', 'QML TreeView not updating at runtime after adding new data to the model', 'How can I sort elements by new counted values in their child element. XSLT 1.0', 'VBA change instance variable from module (excel)', 'How many columns in MySQL table', 'Checking data in a csv file using python', 'MailChimp API 2.0 Batch Subscription PHP', 'C# Winforms FileInfo Error', 'Dealing with large TIFF images C++/Magick/libtiff', 'find common value of one matrix in another matrix', 'Performing async method in a loop in node.js and waiting for result', 'Module has no attribute error in python3', 'jpa Entity Metadata', 'How do you use the LaTeX blackboard font in MATLAB?', 'Python - Importing a global/site-packages module rather than the file of the same name in the local directory', 'ISCC passing a parameter in the Compiler IDE', 'IE8 ignores \"filter\" CSS styles', 'Is there a way to load a webpage in pieces using ASP.NET?', 'Requiring unknown module \"buffer\" in react-native-route-flux', 'Eclipse, where to change the current debug line background?', 'How to wait and get text from another form in multiple backgroundworker', 'HTML document width exceeds 100% when i increase the height to bigger than screen height\\n']\n"]}]},{"cell_type":"markdown","metadata":{"id":"bTHfL-9y6j3F"},"source":["Кол-во строк"]},{"cell_type":"code","metadata":{"scrolled":false,"id":"z6ubXhIe6j3H","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647549546,"user_tz":-180,"elapsed":6,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"e491c22d-f8ce-47cf-b702-0b466e9908f3"},"source":["len(validation_data)"],"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["3760"]},"metadata":{},"execution_count":19}]},{"cell_type":"markdown","metadata":{"id":"kaOQblBy6j3M"},"source":["Размер нескольких первых строк"]},{"cell_type":"code","metadata":{"id":"yRx6e-Pe6j3M","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647549547,"user_tz":-180,"elapsed":6,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"1465f904-069b-47f4-8c9b-4bab7d022bcb"},"source":["for i in range(5):\n","    print(i + 1, len(validation_data[i]))"],"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["1 1001\n","2 1001\n","3 1001\n","4 1001\n","5 1001\n"]}]},{"cell_type":"markdown","metadata":{"id":"ySQQp0oQt1Ep"},"source":["### Ранжирование без обучения"]},{"cell_type":"markdown","source":[],"metadata":{"id":"N4xDHRYOzT_l"}},{"cell_type":"markdown","metadata":{"id":"iElEDhj-6j3R"},"source":["Реализуйте функцию ранжирования кандидатов на основе косинусного расстояния. Функция должна по списку кандидатов вернуть отсортированный список пар (позиция в исходном списке кандидатов, кандидат). При этом позиция кандидата в полученном списке является его рейтингом (первый - лучший). Например, если исходный список кандидатов был [a, b, c], и самый похожий на исходный вопрос среди них - c, затем a, и в конце b, то функция должна вернуть список **[(2, c), (0, a), (1, b)]**."]},{"cell_type":"code","metadata":{"id":"K02JARKr6j3T"},"source":["from sklearn.metrics.pairwise import cosine_similarity\n","from copy import deepcopy"],"execution_count":null,"outputs":[]},{"cell_type":"code","source":["listt = []\n","listt.append(3.1)\n","listt.append(5.4)\n","listt.append(2.3)\n","#listt[1].append('b')\n","#listt[2].append('c')\n","new_listt = deepcopy(listt)\n","listt.sort(reverse=True)\n","rank = 0\n","for vect in listt:\n","  pos_vect = new_listt.index(vect)\n","  new_listt[pos_vect] = (rank, vect)\n","  rank+=1\n","#listt[1][1] = 1\n","#for i in range(len(listt)):\n","  #listt[i][1] = i\n","print(listt)\n","print(new_listt)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"c3q2rt0-040F","executionInfo":{"status":"ok","timestamp":1709647549547,"user_tz":-180,"elapsed":4,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"fcb34650-3aab-4986-db54-c94079efae95"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["[5.4, 3.1, 2.3]\n","[(1, 3.1), (0, 5.4), (2, 2.3)]\n"]}]},{"cell_type":"code","metadata":{"id":"1yP8wJWj6j3X"},"source":["def rank_candidates(question, candidates, embeddings, tokenizer, dim=200):\n","    \"\"\"\n","        question: строка\n","        candidates: массив строк(кандидатов) [a, b, c]\n","        result: пары (начальная позиция, кандидат) [(2, c), (0, a), (1, b)]\n","    \"\"\"\n","\n","    result = []\n","    vect_question = question_to_vec(question, embeddings, tokenizer)\n","\n","    idx = 0\n","    for candidate in candidates:\n","      if candidate is None:\n","        continue\n","        vect_candidate = question_to_vec(candidate, embeddings, tokenizer)\n","        result.append( (idx, candidate, cosine_similarity(vect_question.reshape(1, -1), vect_candidate.reshape(1, -1))[0][0]) )\n","\n","        idx +=1\n","\n","    result.sort(key=lambda x: x[2], reverse=True)\n","\n","    return [elem[:-1] for elem in deepcopy(result)]\n","\n"],"execution_count":null,"outputs":[]},{"cell_type":"markdown","metadata":{"id":"TnBszTb76j3c"},"source":["Протестируйте работу функции на примерах ниже. Пусть $N=2$, то есть два эксперимента"]},{"cell_type":"code","metadata":{"id":"xvQgtP176j3h"},"source":["questions = ['converting string to list', 'Sending array via Ajax fails']\n","\n","candidates = [['Convert Google results object (pure js) to Python object', # первый эксперимент\n","               'C# create cookie from string and send it',\n","               'How to use jQuery AJAX for an outside domain?'],\n","\n","              ['Getting all list items of an unordered list in PHP',      # второй эксперимент\n","               'WPF- How to update the changes in list item of a list',\n","               'select2 not displaying search results']]"],"execution_count":null,"outputs":[]},{"cell_type":"code","metadata":{"id":"bPj1JGFi6j3m","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1709647549881,"user_tz":-180,"elapsed":5,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"f416bcd6-02cc-4dbf-9476-488b64e3a317"},"source":["for question, q_candidates in zip(questions, candidates):\n","        ranks = rank_candidates(question, q_candidates, wv_embeddings, tokenizer)\n","        print(ranks)\n","        print()"],"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["[(1, 'C# create cookie from string and send it'), (0, 'Convert Google results object (pure js) to Python object'), (2, 'How to use jQuery AJAX for an outside domain?')]\n","\n","[(0, 'Getting all list items of an unordered list in PHP'), (2, 'select2 not displaying search results'), (1, 'WPF- How to update the changes in list item of a list')]\n","\n"]}]},{"cell_type":"markdown","metadata":{"id":"jm4cidj56j3q"},"source":["Для первого экперимента вы можете полностью сравнить ваши ответы и правильные ответы. Но для второго эксперимента два ответа на кандидаты будут <b>скрыты</b>(*)"]},{"cell_type":"code","metadata":{"id":"0LeKMIsn6j3s"},"source":["# должно вывести\n","results = [[(1, 'C# create cookie from string and send it'),\n","            (0, 'Convert Google results object (pure js) to Python object'),\n","            (2, 'How to use jQuery AJAX for an outside domain?')],\n","           [(0, 'Getting all list items of an unordered list in PHP'), #скрыт\n","            (2, 'select2 not displaying search results'), #скрыт\n","            (1, 'WPF- How to update the changes in list item of a list')]] #скрыт"],"execution_count":null,"outputs":[]},{"cell_type":"markdown","metadata":{"id":"t1ttnIBe6j3x"},"source":["Последовательность начальных индексов вы должны получить `для эксперимента 1`  1, 0, 2."]},{"cell_type":"markdown","metadata":{"id":"5WQgYDWd6j3y"},"source":["#### Вопрос 5:\n","* Какую последовательность начальных индексов вы получили `для эксперимента 2`(перечисление без запятой и пробелов, например, `102` для первого эксперимента?\n","Ответ: 021"]},{"cell_type":"markdown","metadata":{"id":"fPllOY-Y6j30"},"source":["Теперь мы можем оценить качество нашего метода. Запустите следующие два блока кода для получения результата. Обратите внимание, что вычисление расстояния между векторами занимает некоторое время (примерно 10 минут). Можете взять для validation 1000 примеров."]},{"cell_type":"code","metadata":{"id":"Z3q9sxddz-yU"},"source":["from tqdm.notebook import tqdm"],"execution_count":null,"outputs":[]},{"cell_type":"code","metadata":{"id":"nu7K4mis6j32","colab":{"base_uri":"https://localhost:8080/","height":371,"referenced_widgets":["7c1afcb7f64d46ce9115913e1b01d580","23c8c8c270fb49e4bbbdadff9da85b23","6345df2a99bd49df9b8b80121abb7a8c","aab19d1dd6d84b05b60d6a61c0b1307b","4bc7ff908c2d4e5380426bbc6c314034","75502f481cdf49ca8798c030030ea7a8","7557ab303c1044b8bb8b5462d5267db0","7f7d3975fce94fbeb280dd37a3765945","ba6f7c1551db4566ad53718e1ca19cc4","d74f781e7f6d4f83bbc1fc6031387778","4beecf83e7b5456282ca8c4576bd013b"]},"executionInfo":{"status":"error","timestamp":1709310149235,"user_tz":-180,"elapsed":80194,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"a598d824-d9f2-465b-c869-cb629e277b21"},"source":["tokenizer = MyTokenizer()\n","\n","wv_ranking = []\n","max_validation_examples = 1000\n","\n","for i, line in enumerate(tqdm(validation_data)):\n","    if i == max_validation_examples:\n","        break\n","    q, *ex = line\n","\n","    ranks = rank_candidates(q, ex, wv_embeddings, tokenizer)\n","    wv_ranking.append([r[0] for r in ranks].index(0) + 1)"],"execution_count":null,"outputs":[{"output_type":"display_data","data":{"text/plain":["  0%|          | 0/3760 [00:00<?, ?it/s]"],"application/vnd.jupyter.widget-view+json":{"version_major":2,"version_minor":0,"model_id":"7c1afcb7f64d46ce9115913e1b01d580"}},"metadata":{}},{"output_type":"error","ename":"KeyboardInterrupt","evalue":"","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mKeyboardInterrupt\u001b[0m                         Traceback (most recent call last)","\u001b[0;32m<ipython-input-116-5fd6bcfae5a2>\u001b[0m in \u001b[0;36m<cell line: 6>\u001b[0;34m()\u001b[0m\n\u001b[1;32m      9\u001b[0m     \u001b[0mq\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m*\u001b[0m\u001b[0mex\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mline\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     10\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 11\u001b[0;31m     \u001b[0mranks\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mrank_candidates\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mq\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mex\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mwv_embeddings\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mtokenizer\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     12\u001b[0m     \u001b[0mwv_ranking\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mappend\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mr\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;32mfor\u001b[0m \u001b[0mr\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mranks\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mindex\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m<ipython-input-73-e03380726a30>\u001b[0m in \u001b[0;36mrank_candidates\u001b[0;34m(question, candidates, embeddings, tokenizer, dim)\u001b[0m\n\u001b[1;32m     12\u001b[0m     \u001b[0;32mfor\u001b[0m \u001b[0mcandidate\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mcandidates\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     13\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 14\u001b[0;31m       \u001b[0mvect_candidate\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mquestion_to_vec\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mcandidate\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0membeddings\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mtokenizer\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     15\u001b[0m       \u001b[0mresult\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mappend\u001b[0m\u001b[0;34m(\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0midx\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcandidate\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcosine_similarity\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mvect_question\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mreshape\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mvect_candidate\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mreshape\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     16\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m<ipython-input-57-2be9395d282f>\u001b[0m in \u001b[0;36mquestion_to_vec\u001b[0;34m(question, embeddings, tokenizer, dim)\u001b[0m\n\u001b[1;32m      8\u001b[0m     \"\"\"\n\u001b[1;32m      9\u001b[0m     \u001b[0mtokens\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mtokenizer\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mtokenize\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mquestion\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 10\u001b[0;31m     \u001b[0;32mreturn\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mmean\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0membeddings\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mtoken\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlower\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;32mfor\u001b[0m \u001b[0mtoken\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mtokens\u001b[0m \u001b[0;32mif\u001b[0m \u001b[0mtoken\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlower\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32min\u001b[0m \u001b[0membeddings\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0maxis\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     11\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m<ipython-input-57-2be9395d282f>\u001b[0m in \u001b[0;36m<listcomp>\u001b[0;34m(.0)\u001b[0m\n\u001b[1;32m      8\u001b[0m     \"\"\"\n\u001b[1;32m      9\u001b[0m     \u001b[0mtokens\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mtokenizer\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mtokenize\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mquestion\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 10\u001b[0;31m     \u001b[0;32mreturn\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mmean\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0membeddings\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mtoken\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlower\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;32mfor\u001b[0m \u001b[0mtoken\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mtokens\u001b[0m \u001b[0;32mif\u001b[0m \u001b[0mtoken\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlower\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32min\u001b[0m \u001b[0membeddings\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0maxis\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     11\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/gensim/models/keyedvectors.py\u001b[0m in \u001b[0;36m__contains__\u001b[0;34m(self, key)\u001b[0m\n\u001b[1;32m    646\u001b[0m         \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget_index\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m>=\u001b[0m \u001b[0;36m0\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    647\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 648\u001b[0;31m     \u001b[0;32mdef\u001b[0m \u001b[0m__contains__\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mkey\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    649\u001b[0m         \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mhas_index_for\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    650\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mKeyboardInterrupt\u001b[0m: "]}]},{"cell_type":"code","source":[],"metadata":{"id":"3xn2xW3m3_Yn"},"execution_count":null,"outputs":[]},{"cell_type":"code","metadata":{"scrolled":true,"id":"gDtS520v6j35","colab":{"base_uri":"https://localhost:8080/","height":153,"referenced_widgets":["7a155256990d46168fa285de32428650","9fac88b1800f48f7a8dd624389592fa7","f39c72ebd3f940ecb003f8a1c5cf295c","dfd3739b0b824fd7ac7ec26361dad579","2981f4529f8f47c9b72dbc0073b89939","3e630fbd2ed64d7893a2f8923e4020d9","ca204acdcd0645e5a34f2e1c06d31f83","d2b5b338dc3a4644abfabedde74449ec","da6c1166a055471fa87f8397eac1cc9f","d588e00388584bbaa43de864e1033771","332c498bd55d461395db988a51a52d92"]},"executionInfo":{"status":"ok","timestamp":1709307741207,"user_tz":-180,"elapsed":344,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"e0d51de8-e172-46ff-abe1-e4ae4beb3d46"},"source":["for k in tqdm([1, 5, 10, 100, 500, 1000]):\n","    print(\"DCG@%4d: %.3f | Hits@%4d: %.3f\" % (k, dcg_score(wv_ranking, k), k, hits_count(wv_ranking, k)))"],"execution_count":null,"outputs":[{"output_type":"display_data","data":{"text/plain":["  0%|          | 0/6 [00:00<?, ?it/s]"],"application/vnd.jupyter.widget-view+json":{"version_major":2,"version_minor":0,"model_id":"7a155256990d46168fa285de32428650"}},"metadata":{}},{"output_type":"stream","name":"stdout","text":["DCG@   1: 19.000 | Hits@   1: 19.000\n","DCG@   5: 24.415 | Hits@   5: 30.000\n","DCG@  10: 26.287 | Hits@  10: 36.000\n","DCG@ 100: 28.525 | Hits@ 100: 47.000\n","DCG@ 500: 28.916 | Hits@ 500: 50.000\n","DCG@1000: 29.133 | Hits@1000: 52.000\n"]}]},{"cell_type":"markdown","metadata":{"id":"LL6_Rjg3InL8"},"source":["### Эмбеддинги, обученные на корпусе похожих вопросов"]},{"cell_type":"code","metadata":{"id":"iNvbpR5gJIPz"},"source":["train_data = read_corpus('./data/train.tsv')"],"execution_count":null,"outputs":[]},{"cell_type":"code","source":["pip install stop-words"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"vvGdoyB387cQ","executionInfo":{"status":"ok","timestamp":1709647850442,"user_tz":-180,"elapsed":9351,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"69a6566a-b344-487b-ac54-da25d302e4ab"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Collecting stop-words\n","  Downloading stop-words-2018.7.23.tar.gz (31 kB)\n","  Preparing metadata (setup.py) ... \u001b[?25l\u001b[?25hdone\n","Building wheels for collected packages: stop-words\n","  Building wheel for stop-words (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for stop-words: filename=stop_words-2018.7.23-py3-none-any.whl size=32895 sha256=f724962dadd3d273e7c3be8d28624b3f5f0b92839261af8ba208855417b0fba4\n","  Stored in directory: /root/.cache/pip/wheels/d0/1a/23/f12552a50cb09bcc1694a5ebb6c2cd5f2a0311de2b8c3d9a89\n","Successfully built stop-words\n","Installing collected packages: stop-words\n","Successfully installed stop-words-2018.7.23\n"]}]},{"cell_type":"code","source":["from stop_words import get_stop_words\n","\n","#stop_words = get_stop_words('en')\n","stop_words = get_stop_words('english')\n","stop_words.append(']')\n","stop_words.append('model[]')\n","stop_words.append('[')\n","print(stop_words)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"waFkcnNr9X4f","executionInfo":{"status":"ok","timestamp":1709656653695,"user_tz":-180,"elapsed":318,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"2e64f141-fd30-4252-8ce7-0f852e80166b"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["['a', 'about', 'above', 'after', 'again', 'against', 'all', 'am', 'an', 'and', 'any', 'are', \"aren't\", 'as', 'at', 'be', 'because', 'been', 'before', 'being', 'below', 'between', 'both', 'but', 'by', \"can't\", 'cannot', 'could', \"couldn't\", 'did', \"didn't\", 'do', 'does', \"doesn't\", 'doing', \"don't\", 'down', 'during', 'each', 'few', 'for', 'from', 'further', 'had', \"hadn't\", 'has', \"hasn't\", 'have', \"haven't\", 'having', 'he', \"he'd\", \"he'll\", \"he's\", 'her', 'here', \"here's\", 'hers', 'herself', 'him', 'himself', 'his', 'how', \"how's\", 'i', \"i'd\", \"i'll\", \"i'm\", \"i've\", 'if', 'in', 'into', 'is', \"isn't\", 'it', \"it's\", 'its', 'itself', \"let's\", 'me', 'more', 'most', \"mustn't\", 'my', 'myself', 'no', 'nor', 'not', 'of', 'off', 'on', 'once', 'only', 'or', 'other', 'ought', 'our', 'ours', 'ourselves', 'out', 'over', 'own', 'same', \"shan't\", 'she', \"she'd\", \"she'll\", \"she's\", 'should', \"shouldn't\", 'so', 'some', 'such', 'than', 'that', \"that's\", 'the', 'their', 'theirs', 'them', 'themselves', 'then', 'there', \"there's\", 'these', 'they', \"they'd\", \"they'll\", \"they're\", \"they've\", 'this', 'those', 'through', 'to', 'too', 'under', 'until', 'up', 'very', 'was', \"wasn't\", 'we', \"we'd\", \"we'll\", \"we're\", \"we've\", 'were', \"weren't\", 'what', \"what's\", 'when', \"when's\", 'where', \"where's\", 'which', 'while', 'who', \"who's\", 'whom', 'why', \"why's\", 'with', \"won't\", 'would', \"wouldn't\", 'you', \"you'd\", \"you'll\", \"you're\", \"you've\", 'your', 'yours', 'yourself', 'yourselves', ')', '(', ')', '(', ')', '(', ']', '[]', ']', '[', ']', '[]', '[']\n"]}]},{"cell_type":"code","source":["def remove_word_from_list(input_list, word_to_remove):\n","    filtered_list = [word for word in input_list if word != word_to_remove]\n","    return filtered_list"],"metadata":{"id":"DE9kMOoUObbz"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["tokenizer = WordPunctTokenizer()\n","pairs = []\n","for idx1 in range(len(train_data)):\n","\n","  sent1 =  tokenizer.tokenize(train_data[idx1][0])\n","  sent2 =  tokenizer.tokenize(train_data[idx1][1])\n","  sent = sent1+sent2\n","\n","  for stop_word in stop_words:\n","    sent = remove_word_from_list(sent, stop_word)\n","\n","  pairs.append(sent)\n","\n","print(pairs[0])\n","#print(train_data[0])"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"2qhMIZjUxCj1","executionInfo":{"status":"ok","timestamp":1709657040624,"user_tz":-180,"elapsed":359705,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"54582dd5-d422-40e0-aee9-f2e40ef039a5"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["['converting', 'string', 'list', 'Convert', 'Google', 'results', 'object', 'pure', 'js', 'Python', 'object']\n"]}]},{"cell_type":"code","source":["for i in range(50):\n","  print(pairs[i])"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"b_pAg20y8akM","executionInfo":{"status":"ok","timestamp":1709656496545,"user_tz":-180,"elapsed":246,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"d235d0fe-9d48-4149-b09e-5caa254a2d8e"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["['converting', 'string', 'to', 'list', 'Convert', 'Google', 'results', 'object', '(', 'pure', 'js', ')', 'to', 'Python', 'object']\n","['Which', 'HTML', '5', 'Canvas', 'Javascript', 'to', 'use', 'for', 'making', 'an', 'interactive', 'drawing', 'tool', '?', 'Event', 'handling', 'for', 'geometries', 'in', 'Three', '.', 'js', '?']\n","['Sending', 'array', 'via', 'Ajax', 'fails', 'Getting', 'all', 'list', 'items', 'of', 'an', 'unordered', 'list', 'in', 'PHP']\n","['How', 'to', 'insert', 'CookieCollection', 'to', 'CookieContainer', '?', 'C', '#', 'create', 'cookie', 'from', 'string', 'and', 'send', 'it']\n","['Updating', 'one', 'element', 'of', 'a', 'bound', 'Observable', 'collection', 'WPF', '-', 'How', 'to', 'update', 'the', 'changes', 'in', 'list', 'item', 'of', 'a', 'list']\n","['MongoDB', 'error', 'on', 'find', '()', 'Retrieve', 'only', 'the', 'queried', 'element', 'in', 'an', 'object', 'array', 'in', 'MongoDB', 'collection']\n","['select2', 'not', 'displaying', 'search', 'results', 'How', 'to', 'use', 'jQuery', 'AJAX', 'for', 'an', 'outside', 'domain', '?']\n","['Using', 'Reduce', 'to', 'merge', 'multiple', 'data', 'frames', 'with', 'passing', 'arguments', 'and', 'without', 'defining', 'function', 'outside', 'the', 'Reduce', '(', 'syntax', ')', 'R', '-', 'merge', 'a', 'list', 'of', 'data', 'frames', 'into', 'one', 'data', 'frame', 'with', 'missing', 'values', 'by', 'row']\n","['Adding', 'Prototype', 'to', 'JavaScript', 'Object', 'Literal', 'How', 'does', 'JavaScript', '.', 'prototype', 'work', '?']\n","['What', \"'\", 's', 'the', 'best', 'way', 'to', 'get', 'the', 'directory', 'from', 'which', 'an', 'assembly', 'is', 'executing', 'What', 'is', 'the', 'dependency', 'inversion', 'principle', 'and', 'why', 'is', 'it', 'important', '?']\n","['min', 'value', 'sql', 'query', 'row', 'with', 'minimum', 'value', 'of', 'a', 'column']\n","['Media', 'Queries', ':', 'How', 'to', 'target', 'desktop', ',', 'tablet', 'and', 'mobile', '?', 'Media', 'Queries', 'to', 'load', 'resource', '?']\n","['opaque', 'element', 'in', 'a', 'transparent', 'in', 'WPF', 'WPF', 'transparency', 'changing', ',', 'when', 'elements', 'are', 'bound']\n","['SmartThreadPool', 'Blocking', 'UI', 'Thread', 'What', \"'\", 's', 'the', 'difference', 'between', 'Invoke', '()', 'and', 'BeginInvoke', '()']\n","['Adding', 'entity', 'classes', 'dynamically', 'at', 'runtime', 'Create', 'EntityManagerFactory', 'programatically', '(', 'without', 'persistence', '.', 'xml', 'file', ')', 'with', 'annotated', 'classes']\n","['Is', 'it', 'possible', 'to', 'use', 'Font', 'Awesome', 'icon', 'instead', 'to', 'select', 'default', 'drop', 'down', 'sign', 'How', 'would', 'I', 'place', 'a', 'font', '-', 'awesome', 'icon', 'into', 'a', 'select', 'drop', '-', 'down', 'menu', '?']\n","['ios', '8', '-', 'buttons', 'in', 'horizontal', 'scroll', 'view', 'intercepting', 'pan', 'event', '-', 'scroll', 'does', 'not', 'work', 'Swift', 'UIScrollView', 'not', 'working', 'with', 'buttons']\n","['an', 'expression', 'of', 'type', 'Null', 'is', 'ineligible', 'for', 'implicit', 'conversion', 'Scala', 'Option', 'type', 'in', 'function', 'parameter', '-', 'Best', 'Practices']\n","['Is', 'it', 'safe', 'to', 'display', 'a', 'image', 'using', '$', '_GET', 'for', 'path', '?', 'CSRF', '(', 'Cross', '-', 'site', 'request', 'forgery', ')', 'attack', 'example', 'and', 'prevention', 'in', 'PHP']\n","['How', 'to', 'change', 'scroll', 'bar', 'position', 'with', 'CSS', '?', 'Scroll', 'Bar', 'at', 'Top', 'and', 'Bottom', 'in', 'DataTables']\n","['Is', 'it', 'possible', 'to', 'use', '`', 'SqlDbType', '.', 'Structured', '`', 'to', 'pass', 'Table', '-', 'Valued', 'Parameters', 'in', 'NHibernate', '?', 'While', 'calling', 'SQL', 'Server', 'stored', 'procedure', 'from', 'NHibernate', 'can', 'I', 'pass', 'list', 'or', 'custom', 'data', 'type', 'as', 'a', 'parameter']\n","['private', '/', 'public', 'qt', 'signals', 'Why', 'do', 'people', 'use', '__', '(', 'double', 'underscore', ')', 'so', 'much', 'in', 'C', '++']\n","['AJAX', 'request', 'not', 'working', 'unless', 'alert', '()', 'is', 'used', 'AJAX', 'not', 'working', 'without', 'alert', 'box']\n","['Injecting', 'a', 'Spring', 'dependency', 'into', 'a', 'JPA', 'EntityListener', 'eventlisteners', 'using', 'hibernate', '4', '.', '0', 'with', 'spring', '3', '.', '1', '.', '0', '.', 'release', '?']\n","['How', 'to', 'I', 'get', 'the', 'N', 'closest', 'points', 'to', 'a', 'coordinate', 'in', 'firebase', '?', 'Limit', 'the', 'number', 'of', 'queried', 'items', 'from', 'GeoFire']\n","['How', 'to', 'do', 'JIRA', 'login', 'using', 'Jsoup', '?', 'JSoup', '.', 'connect', 'throws', '403', 'error', 'while', 'apache', '.', 'httpclient', 'is', 'able', 'to', 'fetch', 'the', 'content']\n","['DICOM', 'image', 'to', 'BufferedImage', 'on', 'Windows', '64', 'display', 'a', 'dicom', 'image', 'in', 'a', 'java', 'application', 'using', 'ImageJ']\n","['Multiple', '\"', 'order', 'by', '\"', 'in', 'LINQ', 'Group', 'by', 'C', '#', 'Concat', '?']\n","['Character', 'or', 'text', 'limit', 'in', 'ScrollView', 'or', 'TextBlock', '?', 'TextBlock', 'is', 'Cutting', 'Text', 'in', 'Windows', 'Phone']\n","['Export', 'Excel', 'via', 'AJAX', 'from', 'VB', '.', 'NET', 'WebMethod', 'As', 'Binary', '?', 'Export', 'a', 'data', 'set', 'to', 'Excel', 'and', 'raise', 'a', 'file', 'download', 'dialog', 'from', 'an', 'asp', '.', 'net', 'web', 'method']\n","['How', 'to', 'stop', 'event', 'propagation', 'with', 'inline', 'onclick', 'attribute', '?', 'How', 'to', '.', 'stopProagation', '()', 'in', 'a', 'function', 'called', 'via', 'onClick', '()']\n","['Smooth', 'Animation', 'in', 'HTML5', 'Canvas', 'get', 'a', 'smooth', 'animation', 'for', 'a', 'canvas', 'game']\n","['Embeded', 'document', 'with', 'belong_to', 'association', 'in', 'Mongoid', 'Mongoid', 'embedded', 'document', 'belongs_to', 'embedded', 'document']\n","['Should', 'I', 'use', 'field', \"'\", 'datetime', \"'\", 'or', \"'\", 'timestamp', \"'?\", 'Is', 'timestamp', 'in', 'mysql', 'cached', 'when', 'retrieved', 'in', 'different', 'timezones', '?']\n","['Is', 'the', 'length', 'of', 'HTTP', 'GET', 'limited', 'to', '2048', '?', 'What', 'is', 'the', 'maximum', 'length', 'of', 'a', 'URL', 'in', 'different', 'browsers', '?']\n","['How', 'to', 'give', 'priority', 'to', 'button', 'Stacked', 'buttons']\n","['How', 'do', 'I', 'delete', 'a', 'Git', 'branch', 'both', 'locally', 'and', 'remotely', '?', 'How', 'do', 'I', 'strip', 'branches', 'from', 'a', 'git', 'repository', '?']\n","['Javascript', 'save', 'data', 'to', 'file', 'system', '(', 'with', 'user', 'prompt', ')', 'Export', 'to', 'csv', 'in', 'jQuery']\n","['Rotate', 'hover', '-', 'info', 'in', 'Plotly', 'How', 'to', 'make', 'a', 'great', 'R', 'reproducible', 'example', '?']\n","['Why', 'a', 'reference', 'is', 'returned', 'in', 'an', 'assignment', 'operator', 'overload', '?', 'Why', 'does', 'flowing', 'off', 'the', 'end', 'of', 'a', 'non', '-', 'void', 'function', 'without', 'returning', 'a', 'value', 'not', 'produce', 'a', 'compiler', 'error', '?']\n","['Golang', ',', 'processes', 'and', 'shared', 'memory', 'linux', '-', 'run', 'process', 'on', 'several', 'cores']\n","['Speed', 'comparison', 'of', 'sapply', 'with', 'a', 'composite', 'function', 'Is', 'R', \"'\", 's', 'apply', 'family', 'more', 'than', 'syntactic', 'sugar', '?']\n","['How', 'to', 'remove', 'specific', 'value', 'from', 'array', 'using', 'jQuery', 'Remove', 'set', 'of', 'items', 'from', 'an', 'array', 'jQuery']\n","['Apache', 'web', 'server', 'doesn', \"'\", 't', 'allow', 'me', 'to', 'refresh', 'on', '/', 'about', 'but', 'on', 'localhost', 'its', 'working', 'fine', 'React', '-', 'router', 'urls', 'don', \"'\", 't', 'work', 'when', 'refreshing', 'or', 'writting', 'manually']\n","['How', 'to', 'get', 'UTF', '-', '8', 'working', 'in', 'Java', 'webapps', '?', 'Charset', 'filter', 'causing', 'issue', 'in', 'parsing', 'UTF', '-', '8', 'characters']\n","['What', 'is', 'the', 'difference', 'between', 'inheritance', 'and', 'Categories', 'in', 'Objective', '-', 'C', 'When', 'to', 'use', 'Categories']\n","['problem', 'with', 'Random', '.', 'nextGaussian', '()', 'Random', 'Normal', 'Distribution', 'in', 'Java', 'returns', 'values', 'outside', 'range']\n","['NSPropertyListSerialization', 'Alternative', '?', 'Nasty', 'NSPropertyListSerialization', 'Leak']\n","['Is', 'it', 'possible', 'to', 'repeat', 'left', 'side', 'in', 'a', 'left', 'outer', 'join', 'to', 'repeat', 'only', 'once', 'SQL', 'with', 'rank', 'and', 'partition']\n","['Inspecting', 'STL', 'containers', 'in', 'Visual', 'Studio', 'debugging', 'An', 'easy', 'way', 'to', 'watch', 'a', 'vector', 'element', 'in', 'debugger']\n"]}]},{"cell_type":"markdown","metadata":{"id":"Nr281ZyEJfjT"},"source":["Улучшите качество модели.<br>Склеим вопросы в пары и обучим на них модель Word2Vec из gensim. Выберите размер window. Объясните свой выбор."]},{"cell_type":"code","metadata":{"id":"f6Y46SSQMTL0"},"source":["#for idx in range(len(train_data)):\n"," # train_data[idx] = ','.join(train_data[idx])#use this cell once, else recompile previous cell\n","#print((train_data[4]))"],"execution_count":null,"outputs":[]},{"cell_type":"code","source":["from gensim.test.utils import common_texts"],"metadata":{"id":"MKwl9yWHvWwS"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["text = ['user', 'plan', 'user']\n","text = remove_word_from_list(text, 'users')\n","print(text)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"L57ZdqGL39Fs","executionInfo":{"status":"ok","timestamp":1709653073325,"user_tz":-180,"elapsed":655,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"66ed2527-a860-44a7-e23e-f31703713193"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["['user', 'plan', 'user']\n"]}]},{"cell_type":"code","metadata":{"id":"QuJzAM0cI-UH"},"source":["from gensim.models import Word2Vec\n","embeddings_trained = Word2Vec(pairs, # data for model to train on\n","                 vector_size=200,                 # embedding vector size\n","                 min_count=1,             # consider words that occured at least 5 times\n","                 window=5).wv"],"execution_count":null,"outputs":[]},{"cell_type":"code","source":["for item in wv_embeddings.most_similar('dog', topn=5):\n","  print(item)\n","for item in embeddings_trained.most_similar('.', topn=5):\n","  print(item)\n","print(type(wv_embeddings))\n","#print(embeddings_trained['dog'])"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"wYCxXplny2hS","executionInfo":{"status":"ok","timestamp":1709656427927,"user_tz":-180,"elapsed":1284,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"6950ae0f-989b-49c2-d6f7-cadcc75a7ec5"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["('animal', 0.8564180135726929)\n","('dogs', 0.7880866527557373)\n","('mammal', 0.7623804211616516)\n","('cats', 0.7621253728866577)\n","('animals', 0.760793924331665)\n","('/.', 0.5612347722053528)\n","('sun', 0.4792168140411377)\n","('literal_eval', 0.4719507396221161)\n","('jivesoftware', 0.47069039940834045)\n","('railstutorial', 0.45836538076400757)\n","<class 'gensim.models.keyedvectors.KeyedVectors'>\n"]}]},{"cell_type":"code","source":[],"metadata":{"id":"b_GfQYGEWwMz"},"execution_count":null,"outputs":[]},{"cell_type":"code","metadata":{"id":"OQonbm4nMenD","colab":{"base_uri":"https://localhost:8080/","height":49,"referenced_widgets":["76d895debba345c49620ca44e15a3bee","2daf7176d6684f95ac5396f642d3c6bb","5330b1cc3be3498ea8bbebb73b5eef31","ceb231cbf5fd48308f1e88b25ae07f3d","debd3118cdc44d4b91b9a636a72f09d8","c6904b3edd7b4e90b1f1119415f833a4","e1d9e6c8a18e4c89b2e58fcc80b1573a","db53b90291a6459ba3b8a01e3fc78091","34a9e29f602e4633981205abf21a2fd9","7bf2fef17c7c46f786c056b9bfa1fec3","073c6ec710134937a53f9c511f864ac6"]},"executionInfo":{"status":"ok","timestamp":1709657748488,"user_tz":-180,"elapsed":715,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"cb10509b-7331-4166-bb7e-33c4b1eb1038"},"source":["tokenizer = WordPunctTokenizer()\n","wv_ranking = []\n","max_validation_examples = 3760\n","for i, line in enumerate(tqdm(validation_data)):\n","    if i == max_validation_examples:\n","        break\n","    q, *ex = line\n","    ranks = rank_candidates(q, ex, wv_embeddings, tokenizer)\n","    #wv_ranking.append([r[0] for r in ranks].index(0) + 1)\n","    if 0 in [r[0] for r in ranks]:\n","        wv_ranking.append([r[0] for r in ranks].index(0) + 1)\n","    else:\n","        wv_ranking.append(-1)"],"execution_count":null,"outputs":[{"output_type":"display_data","data":{"text/plain":["  0%|          | 0/3760 [00:00<?, ?it/s]"],"application/vnd.jupyter.widget-view+json":{"version_major":2,"version_minor":0,"model_id":"76d895debba345c49620ca44e15a3bee"}},"metadata":{}}]},{"cell_type":"code","metadata":{"id":"3kahBUPGMgGR","colab":{"base_uri":"https://localhost:8080/","height":295,"referenced_widgets":["6310998320c84c0dbbbc4e4f05892199","4161255fb74e41fb94773b08d6848c2d","9c01f94fb6674baa8857c476d955d9c2","ca9f41e683804352917fc199671b404b","f6f26a0c74174ef9b320ef3dbcbdaf5c","bdde07a4b61a464c8c1bd47d141c5df6","48a0bf6c54d04eeaa82b8c781e535bed","a910876bc9da47bbb2ee64587133efde","d6fdd2e8ba4f45fb85f6dd4389b18b4e","b1723996f76e4d338e269163c4f0c864","9313229dba0b4001a141341f1f8606f2"]},"executionInfo":{"status":"error","timestamp":1709657752179,"user_tz":-180,"elapsed":242,"user":{"displayName":"Артем Завьялов","userId":"04918970167557415541"}},"outputId":"e822e8ba-bc0d-4a70-e4e8-90486c68e1b2"},"source":["for k in tqdm([1, 5, 10, 100, 500, 1000]):\n","    print(\"DCG@%4d: %.3f | Hits@%4d: %.3f\" % (k, dcg_score(wv_ranking, k), k, hits_count(wv_ranking, k)))"],"execution_count":null,"outputs":[{"output_type":"display_data","data":{"text/plain":["  0%|          | 0/6 [00:00<?, ?it/s]"],"application/vnd.jupyter.widget-view+json":{"version_major":2,"version_minor":0,"model_id":"6310998320c84c0dbbbc4e4f05892199"}},"metadata":{}},{"output_type":"error","ename":"ValueError","evalue":"math domain error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)","\u001b[0;32m<ipython-input-160-6ed6ee89f5df>\u001b[0m in \u001b[0;36m<cell line: 1>\u001b[0;34m()\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0;32mfor\u001b[0m \u001b[0mk\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mtqdm\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m5\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m10\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m100\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m500\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;36m1000\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 2\u001b[0;31m     \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"DCG@%4d: %.3f | Hits@%4d: %.3f\"\u001b[0m \u001b[0;34m%\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0mk\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdcg_score\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mwv_ranking\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mk\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mk\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mhits_count\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mwv_ranking\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mk\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;32m<ipython-input-10-688ebe0c5a21>\u001b[0m in \u001b[0;36mdcg_score\u001b[0;34m(dup_ranks, k)\u001b[0m\n\u001b[1;32m      8\u001b[0m     \u001b[0;32mfor\u001b[0m \u001b[0mpos\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mdup_ranks\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      9\u001b[0m       \u001b[0;32mif\u001b[0m \u001b[0mk\u001b[0m\u001b[0;34m>=\u001b[0m \u001b[0mpos\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 10\u001b[0;31m         \u001b[0mdcg_value\u001b[0m\u001b[0;34m+=\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m/\u001b[0m\u001b[0mlog2\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mpos\u001b[0m\u001b[0;34m+\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     11\u001b[0m     \u001b[0;32mreturn\u001b[0m \u001b[0mdcg_value\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mValueError\u001b[0m: math domain error"]}]},{"cell_type":"markdown","metadata":{"id":"tY8PxB0j-ThG"},"source":["### Замечание:\n","Решить эту задачу с помощью обучения полноценной нейронной сети будет вам предложено, как часть задания в одной из домашних работ по теме \"Диалоговые системы\"."]},{"cell_type":"markdown","metadata":{"id":"vymVj8IxO2PO"},"source":["Напишите свой вывод о полученных результатах.\n","* Какой принцип токенизации даёт качество лучше и почему?\n","* Помогает ли нормализация слов?\n","* Какие эмбеддинги лучше справляются с задачей и почему?\n","* Почему получилось плохое качество решения задачи?\n","* Предложите свой подход к решению задачи.\n","\n","## Вывод:\n"]},{"cell_type":"markdown","metadata":{"id":"emODHztAQUQz"},"source":[]}]}